import{d as M,E as j,t as E,b9 as L,k as f,aB as Q,C as A,bm as R,O as q,o as x,c as y,p as l,w as u,m as e,q as n,bi as g,z as G,a2 as h,a3 as v,F as O,a as H,x as V,V as B}from"./index.1bb36a93.js";import{S as J}from"./sweetalert2.74fe64d4.js";import{u as K}from"./useCrudFixedAssetStore.e479679d.js";import{_ as W}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{V as X}from"./VSelect.ff4ebc03.js";import{V as Y}from"./VSpacer.c965114a.js";import{V as Z}from"./VTextField.1b37a66e.js";import{V as w}from"./VBtn.22d55266.js";import{V as D}from"./VContainer.fea237fc.js";import{V as T}from"./VDivider.5fbe829f.js";import{V as ee}from"./VSwitch.372fef15.js";import{V as te}from"./VTable.ef7fd960.js";import{V as ae}from"./VPagination.37591e70.js";const le={class:"me-3",style:{width:"80px"}},se={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ne={style:{width:"10rem"}},oe=e("thead",null,[e("tr",null,[e("th",null,[e("span",null,"Activo")]),e("th",null,[e("span",null,"Grupo de activo")]),e("th",null,[e("span",null,"C\xF3digo")]),e("th",null,[e("span",null,"Nombre")]),e("th",{scope:"col"}," Acciones ")])],-1),re={style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},ie={colspan:"5"},ue={class:"text-center",style:{width:"5rem"}},ce=e("tr",null,[e("td",{colspan:"5",class:"text-center"}," No se encuentran resultados ")],-1),de=[ce],pe={class:"text-sm text-disabled"},Ae=M({__name:"TableList",setup(me){const $=j();E();const o=K(),{fixedAssets:d,totalPage:p,lastPage:F,currentPage:s,totalData:P,loading:C}=L(o),i=f(10),c=f(""),S=f("desc"),b=f("name"),_=async()=>{await o.fetchAll({perPage:i.value,page:s.value,searchQuery:c.value,sort_direction:S.value,sort_field:b.value,company_id:$.company.id})},z=async(r,t)=>{o.changeState(r,t)};Q(async()=>{o.typeAction!="back"&&await _()}),A(s,async()=>{s.value>p.value&&(s.value=p.value)}),A(i,async()=>{s.value=1}),R([s,c,i,S,b],async()=>{await _()});const N=q(()=>{const r=d.value.length?(s.value-1)*p.value+1:0,t=d.value.length+(s.value-1)*p.value;return`Mostrando ${r} a ${t} de ${P.value} registros`}),k=async(r,t=null)=>{o.clearFormulario(),o.typeAction=r,t&&o.fetchInfo(t)},U=async r=>{J.fire({title:"\xBFDesea eliminar el registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async t=>{t.isConfirmed?(await o.fetchDelete(r),await _()):t.isDenied})};return(r,t)=>(x(),y("div",null,[l(D,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:u(()=>[e("div",le,[l(X,{modelValue:n(i),"onUpdate:modelValue":t[0]||(t[0]=a=>g(i)?i.value=a:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),l(Y),e("div",se,[e("div",ne,[l(Z,{modelValue:n(c),"onUpdate:modelValue":t[1]||(t[1]=a=>g(c)?c.value=a:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),l(w,{color:"primary",onClick:t[2]||(t[2]=a=>k("form"))},{default:u(()=>[G(" Agregar ")]),_:1})])]),_:1}),l(T),l(te,{class:"text-no-wrap"},{default:u(()=>[oe,h(e("div",re,null,512),[[v,!0]]),e("tbody",null,[h(e("tr",null,[e("td",ie,[l(W)])],512),[[v,n(C)]]),(x(!0),y(O,null,H(n(d),(a,I)=>h((x(),y("tr",{key:I,style:{height:"3.75rem"}},[e("td",null,[l(ee,{modelValue:a.state,"onUpdate:modelValue":m=>a.state=m,color:"success",inset:"",value:a.state,"true-value":1,"false-value":0,"hide-details":"",onClick:m=>z(a,a.state)},null,8,["modelValue","onUpdate:modelValue","value","onClick"])]),e("td",null,[e("span",null,V(a.group_name),1)]),e("td",null,[e("span",null,V(a.code),1)]),e("td",null,[e("span",null,V(a.name),1)]),e("td",ue,[l(w,{size:"x-small",color:"error",variant:"text",onClick:m=>U(a.id)},{default:u(()=>[l(B,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(w,{icon:"",size:"x-small",color:"default",variant:"text",onClick:m=>k("form",a.id)},{default:u(()=>[l(B,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])])])),[[v,!n(C)]])),128))]),h(e("tfoot",null,de,512),[[v,!n(d).length]])]),_:1}),l(T),l(D,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:u(()=>[e("span",pe,V(n(N)),1),l(ae,{modelValue:n(s),"onUpdate:modelValue":t[3]||(t[3]=a=>g(s)?s.value=a:null),size:"small","total-visible":5,length:n(F)},null,8,["modelValue","length"])]),_:1})]))}});export{Ae as _};
