import{E as r,bo as l,bg as c,bp as d,bq as g}from"./index.1bb36a93.js";const u=r(),n=g(),f=l("useLedgerAccountStore",{state:()=>({loading:!0,ledgerAccounts:[],ledgerAccountCategory:[],ledgerAccountBalance:[],clase:{},group:{},account:{},subAccount:{},auxiliary:{},subAuxiliary:{},typeClick:"",titleModal:"",titleButton:"",codeInitial:null,maxlength:null,minlength:null,routeName:"",pathExcel:"",formulario:{code:"",name:"",company_id:null}}),getters:{},actions:{clearFormulario(){this.formulario={code:"",name:""}},async fetchAll(o){this.loading=!0,await c.post("/ledgerAccount-list",{companyId:o}).then(a=>{this.loading=!1,this.ledgerAccounts=a.data.ledgerAccount,this.ledgerAccountCategory=a.data.ledgerAccountCategory,this.ledgerAccountBalance=a.data.ledgerAccountBalance}).catch(async a=>{this.loading=!1,console.log(await a)})},async fetchSave(o=null,a){const s=d(),i=o!=null?o:this.routeName,e=a!=null?a:this.formulario;return s.isLoading=!0,await await c.post(i,e).then(t=>(s.isLoading=!1,t.data.data===401&&t.data.code===200?{error:{code:["Codigo ya esta en uso"]},status:422}:(t.data.code===200&&(this.fetchAll(e.company_id),n.toast("\xC9xito",t.data.message,"success")),t.data.code===500&&n.toast("Error",t.data.message,"danger"),t.data.status===422?(n.toast("Error",t.data.message,"danger"),{error:t.data.errors,status:t.data.status}):{status:t.data.code,formedit:t.data.data}))).catch(async t=>(s.isLoading=!1,console.log("datadata",t.response),t.response.status))},async fetchDelete(o,a){const s=d();return s.isLoading=!1,await await c.delete(`${a}/${o}`).then(e=>(s.isLoading=!1,e.data.code===200&&n.toast("\xC9xito",e.data.message,"success"),this.fetchAll(u.company.id),e.data.code===500&&n.toast("Error",e.data.message,"danger"),e.data.code)).catch(async e=>(s.isLoading=!1,console.log(await e),e.response.state===500&&n.toast("Error",e.response.data.message,"danger"),e.response.state))},async excel(o){await c.post("/ledgerAccount-excel",o).then(a=>{this.pathExcel=a.data.path}).catch(async a=>{console.log(await a)})}}});export{f as u};
