import{d as z,E as R,t as U,b9 as j,k as y,aB as E,C,bm as L,O as Q,o as m,c as g,p as o,w as _,m as e,q as t,bi as x,z as q,s as K,bK as O,b as P,V as B,I as G,a2 as v,a3 as V,F as H,a as J,x as p}from"./index.1bb36a93.js";import{u as W}from"./useCrudPayrollStore.398992bd.js";import{_ as X}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{V as Y}from"./VSelect.ff4ebc03.js";import{V as Z}from"./VSpacer.c965114a.js";import{V as ee}from"./VTextField.1b37a66e.js";import{V as te}from"./VBtn.22d55266.js";import{V as S}from"./VContainer.fea237fc.js";import{V as A}from"./VDivider.5fbe829f.js";import{V as ae}from"./VTable.ef7fd960.js";import{V as le}from"./VPagination.37591e70.js";const se={class:"me-3",style:{width:"80px"}},oe={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ne={style:{width:"10rem"}},re={class:"w10"},ie=e("span",{class:"ml-2"},"Nombre",-1),ce=e("th",{scope:"col"}," N\xB0 Identificaci\xF3n ",-1),de=e("th",{scope:"col"}," Mes ",-1),ue=e("th",{scope:"col"}," A\xF1o ",-1),me={style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},pe={colspan:"2"},fe=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No se encuentran resultados ")],-1),he=[fe],ye={class:"text-sm text-disabled"},Ae=z({__name:"TableList",setup(_e){const w=R(),{theme:F}=U(),r=W(),{payrolls:f,totalPage:h,lastPage:N,currentPage:s,totalData:D,loading:b}=j(r),i=y(10),u=y(""),c=y("desc"),d=y("name"),I=async n=>{d.value==n?c.value=c.value=="asc"?"desc":"asc":d.value=n},k=async()=>{await r.fetchAll({company_id:w.company.id,perPage:i.value,page:s.value,searchQuery:u.value,sort_direction:c.value,sort_field:d.value})};E(async()=>{r.typeAction!="back"&&await k()}),C(s,async()=>{s.value>h.value&&(s.value=h.value)}),C(i,async()=>{s.value=1}),L([s,u,i,c,d],async()=>{await k()});const T=Q(()=>{const n=f.value.length?(s.value-1)*h.value+1:0,a=f.value.length+(s.value-1)*h.value;return`Mostrando ${n} a ${a} de ${D.value} registros`}),$=async(n,a=null)=>{r.clearFormulario(),r.typeAction=n,r.fetchDataFormRefresh(w.company.id)};return(n,a)=>(m(),g("div",null,[o(S,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:_(()=>[e("div",se,[o(Y,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=l=>x(i)?i.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),o(Z),e("div",oe,[e("div",ne,[o(ee,{modelValue:t(u),"onUpdate:modelValue":a[1]||(a[1]=l=>x(u)?u.value=l:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),o(te,{color:"primary",onClick:a[2]||(a[2]=l=>$("form"))},{default:_(()=>[q(" Agregar ")]),_:1})])]),_:1}),o(A),o(ae,{class:"text-no-wrap"},{default:_(()=>[e("thead",null,[e("tr",null,[e("th",re,[e("a",{href:"#",class:K(t(F)=="dark"?"text-white":"text-primary"),onClick:a[3]||(a[3]=O(l=>I("name"),["prevent"]))},[t(c)=="desc"&&t(d)=="name"?(m(),P(B,{key:0,icon:"mdi-arrow-up-bold"})):t(c)=="asc"&&t(d)=="name"?(m(),P(B,{key:1,icon:"mdi-arrow-down-bold"})):G("",!0),ie],2)]),ce,de,ue])]),v(e("div",me,null,512),[[V,!0]]),e("tbody",null,[v(e("tr",null,[e("td",pe,[o(X)])],512),[[V,t(b)]]),(m(!0),g(H,null,J(t(f),(l,M)=>v((m(),g("tr",{key:M,style:{height:"3.75rem"}},[e("td",null,[e("span",null,p(l.name),1)]),e("td",null,[e("span",null,p(l.settlement_type),1)]),e("td",null,[e("span",null,p(l.month),1)]),e("td",null,[e("span",null,p(l.year),1)])])),[[V,!t(b)]])),128))]),v(e("tfoot",null,he,512),[[V,!t(f).length]])]),_:1}),o(A),o(S,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:_(()=>[e("span",ye,p(t(T)),1),o(le,{modelValue:t(s),"onUpdate:modelValue":a[4]||(a[4]=l=>x(s)?s.value=l:null),size:"small","total-visible":5,length:t(N)},null,8,["modelValue","length"])]),_:1})]))}});export{Ae as _};
