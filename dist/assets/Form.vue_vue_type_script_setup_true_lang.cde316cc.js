import{d as _,b9 as b,k as V,aB as x,o as g,c as w,p as s,w as t,z as c,q as o}from"./index.1bb36a93.js";import{u as C}from"./useCrudPermissionStore.472ae3dd.js";import{r as d}from"./validators.bb8f1929.js";import{a as u,V as f}from"./VRow.971cb494.js";import{V as v}from"./VBtn.22d55266.js";import{V as F}from"./VSelect.ff4ebc03.js";import{V as y}from"./VTextField.1b37a66e.js";import{V as $}from"./VForm.9a7f2cfe.js";const G=_({__name:"Form",setup(B){const i=C(),{formulario:l}=b(i),a=V([]),m=V(),p=async n=>{var e;i.typeAction=n,await((e=m.value)==null?void 0:e.resetValidation()),a.value=[],n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=m.value)==null?void 0:e.validate());if(n!=null&&n.valid){const r=await i.fetchSave(l.value);r.status===200&&p("list"),r.status===422&&(a.value=r.error)}};return x(async()=>{await i.fetchDataForm()}),(n,e)=>(g(),w("div",null,[s(f,null,{default:t(()=>[s(u,{cols:"12",class:"d-flex justify-content-end"},{default:t(()=>[s(v,{color:"secondary",onClick:e[0]||(e[0]=r=>p("back"))},{default:t(()=>[c(" Atras ")]),_:1})]),_:1})]),_:1}),s($,{ref_key:"formValidation",ref:m,"lazy-validation":""},{default:t(()=>[s(f,null,{default:t(()=>[s(u,{cols:"4"},{default:t(()=>[s(F,{items:o(i).arrayMenus,rules:[o(d)],modelValue:o(l).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=r=>o(l).menu_id=r),e[2]||(e[2]=r=>o(a).menu_id="")],"item-title":"title","item-value":"id",label:"Grupo","error-messages":o(a).menu_id},null,8,["items","rules","modelValue","error-messages"])]),_:1}),s(u,{cols:"4"},{default:t(()=>[s(y,{modelValue:o(l).name,"onUpdate:modelValue":e[3]||(e[3]=r=>o(l).name=r),rules:[o(d)],"error-messages":o(a).name,label:"Nombre",onKeypress:e[4]||(e[4]=r=>o(a).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),s(u,{cols:"4"},{default:t(()=>[s(y,{modelValue:o(l).description,"onUpdate:modelValue":e[5]||(e[5]=r=>o(l).description=r),rules:[o(d)],"error-messages":o(a).description,label:"Descripci\xF3n",onKeypress:e[6]||(e[6]=r=>o(a).description="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(f,null,{default:t(()=>[s(u,{cols:"12 d-flex justify-content-center"},{default:t(()=>[s(v,{color:"primary",onClick:e[7]||(e[7]=r=>k())},{default:t(()=>[c("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{G as _};
