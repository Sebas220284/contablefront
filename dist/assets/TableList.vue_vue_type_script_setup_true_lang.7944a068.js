import{d as T,E as D,b9 as R,k as b,aB as I,C,bm as M,O as U,o as h,c as v,p as l,w as d,m as e,q as s,bi as V,z as j,a2 as _,a3 as g,F as E,a as L,x as r,V as P}from"./index.1bb36a93.js";import{u as Q}from"./useCrudCashReceiptStore.5fc3b404.js";import{_ as q}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{V as O}from"./VSelect.ff4ebc03.js";import{V as G}from"./VSpacer.c965114a.js";import{V as H}from"./VTextField.1b37a66e.js";import{V as x}from"./VBtn.22d55266.js";import{V as k}from"./VContainer.fea237fc.js";import{V as N}from"./VDivider.5fbe829f.js";import{V as J}from"./VTable.ef7fd960.js";import{V as K}from"./VPagination.37591e70.js";const W={class:"me-3",style:{width:"80px"}},X={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Y={style:{width:"10rem"}},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," Numero "),e("th",{scope:"col"}," Fechas elaboraci\xF3n "),e("th",{scope:"col"}," Tipo "),e("th",{scope:"col"}," Cliente "),e("th",{scope:"col"}," Realizar un "),e("th",{scope:"col"}," Moneda "),e("th",{scope:"col"}," Acciones ")])],-1),ee={colspan:"6"},te={class:"text-center",style:{width:"5rem"}},ae=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No se encuentran resultados ")],-1),le=[ae],oe={class:"text-sm text-disabled"},Ve=T({__name:"TableList",setup(se){const S=D(),n=Q(),{cashReceipts:p,totalPage:m,lastPage:z,currentPage:o,totalData:A,loading:y}=R(n),i=b(10),c=b(""),w=async()=>{await n.fetchAll({company_id:S.company.id,perPage:i.value,page:o.value,searchQuery:c.value})};I(async()=>{await w()}),C(o,async()=>{o.value>m.value&&(o.value=m.value)}),C(i,async()=>{o.value=1}),M([o,c,i],async()=>{console.log(c.value),await w()});const F=U(()=>{const u=p.value.length?(o.value-1)*m.value+1:0,t=p.value.length+(o.value-1)*m.value;return`Mostrando ${u} a ${t} de ${A.value} registros`}),f=async(u,t=null)=>{n.clearFormulario(),n.clearFormArchive(),n.typeAction=u,t&&u==="form"&&n.fetchInfoCashReceipt(t),t&&u==="printPdf"&&n.fetchInfoPdf(t)};return(u,t)=>(h(),v("div",null,[l(k,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:d(()=>[e("div",W,[l(O,{modelValue:s(i),"onUpdate:modelValue":t[0]||(t[0]=a=>V(i)?i.value=a:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),l(G),e("div",X,[e("div",Y,[l(H,{modelValue:s(c),"onUpdate:modelValue":t[1]||(t[1]=a=>V(c)?c.value=a:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),l(x,{color:"primary",onClick:t[2]||(t[2]=a=>f("form"))},{default:d(()=>[j(" Agregar ")]),_:1})])]),_:1}),l(N),l(J,{class:"text-no-wrap"},{default:d(()=>[Z,e("tbody",null,[_(e("tr",null,[e("td",ee,[l(q)])],512),[[g,s(y)]]),(h(!0),v(E,null,L(s(p),(a,$)=>_((h(),v("tr",{key:$,style:{height:"3.75rem"}},[e("td",null,[e("span",null,r(a.number),1)]),e("td",null,[e("span",null,r(a.date_elaboration),1)]),e("td",null,[e("span",null,r(a.title),1)]),e("td",null,[e("span",null,r(a.customerName),1)]),e("td",null,[e("span",null,r(a.performName),1)]),e("td",null,[e("span",null,r(a.currencieName),1)]),e("td",te,[l(x,{icon:"",size:"x-small",color:"default",variant:"text",onClick:B=>f("form",a.id)},{default:d(()=>[l(P,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),l(x,{icon:"",size:"x-small",color:"default",variant:"text",title:"Imprimir recibo de caja",onClick:B=>f("printPdf",a.id)},{default:d(()=>[l(P,{size:"22",icon:"fa-print"})]),_:2},1032,["onClick"])])])),[[g,!s(y)]])),128))]),_(e("tfoot",null,le,512),[[g,!s(p).length]])]),_:1}),l(N),l(k,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:d(()=>[e("span",oe,r(s(F)),1),l(K,{modelValue:s(o),"onUpdate:modelValue":t[3]||(t[3]=a=>V(o)?o.value=a:null),size:"small","total-visible":5,length:s(z)},null,8,["modelValue","length"])]),_:1})]))}});export{Ve as _};
