import{d as te,E as ce,b9 as ve,k as W,aB as ie,o as t,c as _,p as a,w as l,q as G,bi as X,V as de,z as P,a2 as Y,m as j,a3 as Z,F as S,a as L,b as $,U as B,bL as D,x as h}from"./index.1bb36a93.js";import{_ as se}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{u as fe}from"./useLedgerAccountStore.f9be3ddb.js";import{a as F,V as ee}from"./VRow.971cb494.js";import{V as le}from"./VTextField.1b37a66e.js";import{V as Ce}from"./VBtn.22d55266.js";import{V as _e,d as N,a as E,b as ae}from"./VList.3fcbcdee.js";const we=te({__name:"List",setup(ke){const R=ce(),U=fe(),{ledgerAccounts:ue,clase:v,formulario:f,typeClick:oe,titleModal:k,titleButton:p,auxiliary:I,subAuxiliary:A,routeName:x,group:C,account:T,subAccount:g,codeInitial:c,maxlength:y,minlength:V,pathExcel:ne,loading:H}=ve(U),b=(i,o,e,z,n,m,r)=>{if(oe.value=i,f.value.company_id=R.company.id,i==="clase"&&(c.value="",y.value=1,V.value=2,c.value=o.code,v.value=o,C.value={},T.value={},g.value={},I.value={},A.value={},f.value.ledgerAccountClass_id=v.value.id,k.value="Crear Grupo",p.value="Crear Grupo",x.value="/ledgerAccount-group-create"),i==="group"){for(const u in e)C.value[u]=e[u];T.value={},g.value={},I.value={},A.value={},v.value=o,c.value="",y.value=1,V.value=2,c.value=e.code,k.value="Crear Cuenta",p.value="Crear Cuenta",x.value="/ledgerAccount-account-create",f.value.ledgerAccountGroup_id=v.value.id}if(i==="account"){for(const u in z)T.value[u]=z[u];g.value={},I.value={},A.value={},C.value=e,v.value=o,c.value="",y.value=2,V.value=4,c.value=z.code,k.value="Crear SubCuenta",p.value="Crear SubCuenta",x.value="/ledgerAccount-subAccount-create",f.value.ledgerAccountAccount_id=C.value.id}if(i==="subAccount"){for(const u in n)g.value[u]=n[u];I.value={},A.value={},C.value=e,v.value=o,c.value="",y.value=2,V.value=4,c.value=n.code,k.value="Crear Auxiliar",p.value="Crear Auxiliar",x.value="/ledgerAccount-auxiliary-create",f.value.ledgerAccountSubAccount_id=T.value.id}if(i==="auxiliary"){for(const u in m)I.value[u]=m[u];A.value={},C.value=e,v.value=o,c.value="",y.value=2,V.value=4,c.value=m.code,k.value="Crear Sub Auxiliar",p.value="Crear Sub Auxiliar",x.value="/ledgerAccount-subAuxiliary-create",f.value.ledgerAccountAuxiliarie_id=g.value.id}if(i==="subAuxiliary"){for(const u in r)A.value[u]=r[u];C.value=e,v.value=o,c.value="",y.value=2,V.value=4,c.value=r.code,k.value="",p.value="",x.value="",f.value.ledgerAccountAuxiliarie_id=g.value.id}},M=W(""),q=W(""),J=async()=>{await U.excel({companyId:R.company.id}),window.open(ne.value,"_blank")};return ie(async()=>{await U.fetchAll(R.company.id)}),(i,o)=>(t(),_("div",null,[a(ee,null,{default:l(()=>[a(F,{cols:"5"},{default:l(()=>[a(le,{modelValue:G(M),"onUpdate:modelValue":o[0]||(o[0]=e=>X(M)?M.value=e:null),"prepend-inner-icon":"mdi-magnify",pre:"",label:"Codigo"},null,8,["modelValue"])]),_:1}),a(F,{cols:"6"},{default:l(()=>[a(le,{modelValue:G(q),"onUpdate:modelValue":o[1]||(o[1]=e=>X(q)?q.value=e:null),"prepend-inner-icon":"mdi-magnify",label:"Nombre"},null,8,["modelValue"])]),_:1}),a(F,{cols:"1"},{default:l(()=>[a(Ce,{"mt-2":"",size:"x-small",color:"default",variant:"text",title:"Descargar",onClick:o[3]||(o[3]=e=>J())},{default:l(()=>[a(de,{size:"30",icon:"mdi-file-excel",onClick:o[2]||(o[2]=e=>J())}),P(" Excel ")]),_:1})]),_:1})]),_:1}),a(ee,null,{default:l(()=>[a(F,{cols:"12"},{default:l(()=>[Y(j("div",null,[a(se)],512),[[Z,G(H)]]),Y(a(_e,null,{default:l(()=>[(t(!0),_(S,null,L(G(ue),(e,z)=>(t(),$(N,{key:z},{activator:l(({props:n})=>[a(E,B({onClick:m=>b("clase",e)},n,{title:e.code+" - "+e.name}),null,16,["onClick","title"])]),default:l(()=>[(t(!0),_(S,null,L(e.group,(n,m)=>(t(),$(N,{key:m},{activator:l(({props:r})=>[a(E,B(r,{title:n.code+" - "+n.name,onClick:u=>b("group",e,n)}),null,16,["title","onClick"])]),default:l(()=>[(t(!0),_(S,null,L(n.account,(r,u)=>(t(),$(N,{key:u},{activator:l(({props:d})=>[a(E,B(d,{title:r.code+" - "+r.name,onClick:K=>b("account",e,n,r)}),null,16,["title","onClick"])]),default:l(()=>[(t(!0),_(S,null,L(r.sub_account,(d,K)=>(t(),$(N,{key:K},{activator:l(({props:s})=>[a(E,B(s,{title:d.code+" - "+d.name,onClick:O=>b("subAccount",e,n,r,d)}),null,16,["title","onClick"])]),default:l(()=>[(t(!0),_(S,null,L(d.auxiliaries,(s,O)=>(t(),$(N,{key:O},{activator:l(({props:w})=>[a(E,B(w,{onClick:Q=>b("auxiliary",e,n,r,d,s)}),{default:l(()=>[a(ae,{color:"red"},{default:l(()=>[j("span",{style:D(s.active?"":"color: red")},h(s.code),5),P(" - "+h(s.name),1)]),_:2},1024)]),_:2},1040,["onClick"])]),default:l(()=>[(t(!0),_(S,null,L(s.sub_auxiliaries,(w,Q)=>(t(),$(N,{key:Q},{activator:l(({props:re})=>[a(E,B(re,{onClick:pe=>b("subAuxiliary",e,n,r,d,s,w)}),{default:l(()=>[a(ae,{color:"red"},{default:l(()=>[j("span",{style:D(w.active?"":"color: red")},h(w.code),5),P(" - "+h(w.name),1)]),_:2},1024)]),_:2},1040,["onClick"])]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},512),[[Z,!G(H)]])]),_:1})]),_:1})]))}});export{we as _};
