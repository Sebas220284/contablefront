import{d as F,b9 as M,k as b,aB as N,C,bm as I,O as U,o as h,c as v,p as a,w as c,m as e,q as s,bi as V,z as E,a2 as x,a3 as y,F as L,a as Q,x as m,V as D}from"./index.1bb36a93.js";import{S as R}from"./sweetalert2.74fe64d4.js";import{u as j}from"./useCrudMenuStore.5f0820c9.js";import{_ as q}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{V as O}from"./VSelect.ff4ebc03.js";import{V as G}from"./VSpacer.c965114a.js";import{V as H}from"./VTextField.1b37a66e.js";import{V as _}from"./VBtn.22d55266.js";import{V as k}from"./VContainer.fea237fc.js";import{V as B}from"./VDivider.5fbe829f.js";import{V as J}from"./VTable.ef7fd960.js";import{V as K}from"./VPagination.37591e70.js";import"./VList.3fcbcdee.js";import"./index.5010adc7.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.cb53369a.js";import"./easing.36b781ab.js";import"./lazy.6b2881de.js";import"./VMenu.a89a99b8.js";import"./VCheckboxBtn.169cdc89.js";import"./VCounter.f77d3b0b.js";import"./VChip.588e72fe.js";/* empty css              */const W={class:"me-3",style:{width:"80px"}},X={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Y={style:{width:"10rem"}},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," T\xEDtulo "),e("th",{scope:"col"}," Direccionar a "),e("th",{scope:"col"}," Icon "),e("th",{scope:"col"}," Acciones ")])],-1),ee={colspan:"4"},te={class:"text-center",style:{width:"5rem"}},ae=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No se encuentran resultados ")],-1),le=[ae],oe={class:"text-sm text-disabled"},Te=F({__name:"tableList",setup(se){const n=j(),{menus:d,totalPage:p,links:S,currentPage:o,totalData:T,loading:g}=M(n),r=b(10),u=b(""),f=async()=>{await n.fetchAll({perPage:r.value,page:o.value,searchQuery:u.value})};N(async()=>{n.typeAction!="back"&&await f()}),C(o,async()=>{o.value>p.value&&(o.value=p.value)}),C(r,async()=>{o.value=1}),I([o,u,r],async()=>{await f()});const $=U(()=>{const i=d.value.length?(o.value-1)*p.value+1:0,t=d.value.length+(o.value-1)*p.value;return`Mostrando ${i} a ${t} de ${T.value} registros`}),w=async(i,t=null)=>{n.clearFormulario(),n.typeAction=i,t&&n.fetchInfo(t)},z=async i=>{R.fire({title:"\xBFDesea eliminar el registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async t=>{t.isConfirmed?(await n.fetchDelete(i),await f()):t.isDenied})};return(i,t)=>(h(),v("div",null,[a(k,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:c(()=>[e("div",W,[a(O,{modelValue:s(r),"onUpdate:modelValue":t[0]||(t[0]=l=>V(r)?r.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(G),e("div",X,[e("div",Y,[a(H,{modelValue:s(u),"onUpdate:modelValue":t[1]||(t[1]=l=>V(u)?u.value=l:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),a(_,{color:"primary",onClick:t[2]||(t[2]=l=>w("form"))},{default:c(()=>[E(" Agregar ")]),_:1})])]),_:1}),a(B),a(J,{class:"text-no-wrap"},{default:c(()=>[Z,e("tbody",null,[x(e("tr",null,[e("td",ee,[a(q)])],512),[[y,s(g)]]),(h(!0),v(L,null,Q(s(d),(l,A)=>x((h(),v("tr",{key:A,style:{height:"3.75rem"}},[e("td",null,[e("span",null,m(l.title),1)]),e("td",null,[e("span",null,m(l.to),1)]),e("td",null,[e("span",null,m(l.icon),1)]),e("td",te,[a(_,{size:"x-small",color:"error",variant:"text",onClick:P=>z(l.id)},{default:c(()=>[a(D,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(_,{icon:"",size:"x-small",color:"default",variant:"text",onClick:P=>w("form",l.id)},{default:c(()=>[a(D,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])])])),[[y,!s(g)]])),128))]),x(e("tfoot",null,le,512),[[y,!s(d).length]])]),_:1}),a(B),a(k,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:c(()=>[e("span",oe,m(s($)),1),a(K,{modelValue:s(o),"onUpdate:modelValue":t[3]||(t[3]=l=>V(o)?o.value=l:null),size:"small","total-visible":5,length:s(S)},null,8,["modelValue","length"])]),_:1})]))}});export{Te as default};
