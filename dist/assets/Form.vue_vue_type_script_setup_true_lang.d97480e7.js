import{d as b,b9 as c,k as v,o as x,c as q,p as l,w as s,z as y,q as o}from"./index.1bb36a93.js";import{u as w}from"./useCrudMenuStore.5f0820c9.js";import{r as d}from"./validators.bb8f1929.js";import{a as u,V as m}from"./VRow.971cb494.js";import{V as g}from"./VBtn.22d55266.js";import{V as f}from"./VTextField.1b37a66e.js";import{V as C}from"./VForm.9a7f2cfe.js";const S=b({__name:"Form",setup($){const i=w(),{formulario:a}=c(i),t=v([]),V=v(),p=async n=>{var e;await((e=V.value)==null?void 0:e.resetValidation()),i.typeAction=n,n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=V.value)==null?void 0:e.validate());if(n!=null&&n.valid){const r=await i.fetchSave();r.status===200&&p("save"),r.status===422&&(t.value=r.error)}};return(n,e)=>(x(),q("div",null,[l(m,null,{default:s(()=>[l(u,{cols:"12",class:"d-flex justify-content-end"},{default:s(()=>[l(g,{color:"secondary",onClick:e[0]||(e[0]=r=>p("back"))},{default:s(()=>[y(" Atras ")]),_:1})]),_:1})]),_:1}),l(C,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:s(()=>[l(m,null,{default:s(()=>[l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).title=r),"error-messages":o(t).title,label:"T\xEDtulo",onKeypress:e[2]||(e[2]=r=>o(t).title=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).to,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).to=r),"error-messages":o(t).to,label:"Redireccionar a",onKeypress:e[4]||(e[4]=r=>o(t).to=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).icon,"onUpdate:modelValue":e[5]||(e[5]=r=>o(a).icon=r),"error-messages":o(t).icon,label:"Icono",onKeypress:e[6]||(e[6]=r=>o(t).icon=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),l(m,null,{default:s(()=>[l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).requiredPermission,"onUpdate:modelValue":e[7]||(e[7]=r=>o(a).requiredPermission=r),"error-messages":o(t).requiredPermission,label:"Permiso requerido",onKeypress:e[8]||(e[8]=r=>o(t).requiredPermission=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),l(m,null,{default:s(()=>[l(u,{cols:"12 d-flex justify-content-center"},{default:s(()=>[l(g,{color:"primary",onClick:e[9]||(e[9]=r=>k())},{default:s(()=>[y("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{S as _};
