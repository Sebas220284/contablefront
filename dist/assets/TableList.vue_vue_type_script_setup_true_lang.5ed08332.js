import{d as E,E as N,b9 as U,k as g,C as w,bm as W,O as L,aB as M,o as h,c as y,p as a,w as c,m as e,q as n,bi as v,z as Q,a2 as b,a3 as C,F as R,a as j,x as u,V as S}from"./index.1bb36a93.js";import{S as q}from"./sweetalert2.74fe64d4.js";import{_ as O}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{u as G}from"./useCrudEmployeeStore.8a70c480.js";import{u as H}from"./useEmployeeWorkingInformationStore.15a1225d.js";import{V as J}from"./VSelect.ff4ebc03.js";import{V as K}from"./VSpacer.c965114a.js";import{V as X}from"./VTextField.1b37a66e.js";import{V}from"./VBtn.22d55266.js";import{V as k}from"./VContainer.fea237fc.js";import{V as B}from"./VDivider.5fbe829f.js";import{V as Y}from"./VTable.ef7fd960.js";import{V as Z}from"./VPagination.37591e70.js";const ee={class:"me-3",style:{width:"80px"}},te={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ae={style:{width:"10rem"}},le=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Nombre"),e("th",{scope:"col"},"Apellido"),e("th",{scope:"col"},"Tipo de identificaci\xF3n"),e("th",{scope:"col"},"Identificaci\xF3n"),e("th",{scope:"col"},"email"),e("th",{scope:"col"},"Acciones")])],-1),oe={colspan:"9"},ne={class:"text-center",style:{width:"5rem"}},se={class:"text-sm text-disabled"},ge=E({__name:"TableList",setup(ie){const D=N(),s=G(),T=H(),{currentPage:o,employees:p,totalPage:m,lastPage:F,totalData:I,loading:x}=U(s),i=g(10),d=g(""),_=async(r,t=null)=>{s.clearFormulario(),s.typeAction=r,t&&(await s.fetchInfoEmployee(t),await T.fetchInfoWorkingInformationData(t))},f=async()=>{await s.fetchAll({company_id:D.company.id,perPage:i.value,page:o.value,searchQuery:d.value})},P=async r=>{q.fire({title:"\xBFDesea eliminar el registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async t=>{t.isConfirmed?(await s.fetchDelete(r),await f()):t.isDenied})};w(o,async()=>{o.value>m.value&&(o.value=m.value)}),w(i,async()=>{o.value=1}),W([o,d,i],async()=>{await f()});const $=L(()=>{const r=p.value.length?(o.value-1)*m.value+1:0,t=p.value.length+(o.value-1)*m.value;return`Mostrando ${r} a ${t} de ${I.value} registros`});return M(async()=>{await f()}),(r,t)=>(h(),y("div",null,[a(k,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:c(()=>[e("div",ee,[a(J,{modelValue:n(i),"onUpdate:modelValue":t[0]||(t[0]=l=>v(i)?i.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(K),e("div",te,[e("div",ae,[a(X,{modelValue:n(d),"onUpdate:modelValue":t[1]||(t[1]=l=>v(d)?d.value=l:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),a(V,{color:"primary",onClick:t[2]||(t[2]=l=>_("form"))},{default:c(()=>[Q(" Crear ")]),_:1})])]),_:1}),a(B),a(Y,{class:"text-no-wrap"},{default:c(()=>[le,e("tbody",null,[b(e("tr",null,[e("td",oe,[a(O)])],512),[[C,n(x)]]),(h(!0),y(R,null,j(n(p),(l,z)=>b((h(),y("tr",{key:z,style:{height:"3.75rem"}},[e("td",null,[e("span",null,u(l.name),1)]),e("td",null,[e("span",null,u(l.last_name),1)]),e("td",null,[e("span",null,u(l.type_identifications_name),1)]),e("td",null,[e("span",null,u(l.document_number),1)]),e("td",null,[e("span",null,u(l.email),1)]),e("td",ne,[a(V,{icon:"",size:"x-small",color:"default",variant:"text",onClick:A=>_("form",l.id)},{default:c(()=>[a(S,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),a(V,{icon:"",size:"x-small",color:"error",variant:"text",onClick:A=>P(l.id)},{default:c(()=>[a(S,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])])),[[C,!n(x)]])),128))])]),_:1}),a(B),a(k,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:c(()=>[e("span",se,u(n($)),1),a(Z,{modelValue:n(o),"onUpdate:modelValue":t[3]||(t[3]=l=>v(o)?o.value=l:null),size:"small","total-visible":5,length:n(F)},null,8,["modelValue","length"])]),_:1})]))}});export{ge as _};
