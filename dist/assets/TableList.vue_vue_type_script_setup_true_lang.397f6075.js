import{d as G,E as I,t as M,b9 as j,k as h,aB as L,C as F,bm as Q,O as R,o as V,c as y,p as l,w as c,m as e,q as s,bi as g,z as q,a2 as v,a3 as x,F as O,a as H,x as r,V as k}from"./index.1bb36a93.js";import{S as J}from"./sweetalert2.74fe64d4.js";import{u as K}from"./useCrudFixedAssetGroupStore.2b984e38.js";import{_ as W}from"./PreloadInterno.vue_vue_type_script_setup_true_lang.45fe2ba0.js";import{V as X}from"./VSelect.ff4ebc03.js";import{V as Y}from"./VSpacer.c965114a.js";import{V as Z}from"./VTextField.1b37a66e.js";import{V as w}from"./VBtn.22d55266.js";import{V as B}from"./VContainer.fea237fc.js";import{V as A}from"./VDivider.5fbe829f.js";import{V as ee}from"./VSwitch.372fef15.js";import{V as te}from"./VTable.ef7fd960.js";import{V as ae}from"./VPagination.37591e70.js";const le={class:"me-3",style:{width:"80px"}},ne={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},se={style:{width:"10rem"}},oe=e("thead",null,[e("tr",null,[e("th",null,[e("span",null,"En Uso")]),e("th",null,[e("span",null,"C\xF3digo")]),e("th",null,[e("span",null,"Nombre")]),e("th",null,[e("span",null,"Vr. Compra")]),e("th",null,[e("span",null,"Depreciaci\xF3n")]),e("th",null,[e("span",null,"Gasto Depreciaci\xF3n")]),e("th",null,[e("span",null,"Depreciaci\xF3n Fiscal")]),e("th",null,[e("span",null,"Gasto Depreciaci\xF3n Fiscal")]),e("th",{scope:"col"}," Acciones ")])],-1),ie={style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},re={colspan:"9"},ue={class:"text-center",style:{width:"5rem"}},ce=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No se encuentran resultados ")],-1),de=[ce],pe={class:"text-sm text-disabled"},Fe=G({__name:"TableList",setup(me){const U=I();M();const o=K(),{fixedAssetGroups:p,totalPage:m,lastPage:T,currentPage:n,totalData:$,loading:C}=j(o),u=h(10),d=h(""),D=h("desc"),S=h("name"),_=async()=>{await o.fetchAll({perPage:u.value,page:n.value,searchQuery:d.value,sort_direction:D.value,sort_field:S.value,company_id:U.company.id})},P=async(i,a)=>{o.changeState(i,a)};L(async()=>{o.typeAction!="back"&&await _()}),F(n,async()=>{n.value>m.value&&(n.value=m.value)}),F(u,async()=>{n.value=1}),Q([n,d,u,D,S],async()=>{await _()});const z=R(()=>{const i=p.value.length?(n.value-1)*m.value+1:0,a=p.value.length+(n.value-1)*m.value;return`Mostrando ${i} a ${a} de ${$.value} registros`}),b=async(i,a=null)=>{o.clearFormulario(),o.typeAction=i,a&&o.fetchInfo(a)},N=async i=>{J.fire({title:"\xBFDesea eliminar el registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async a=>{a.isConfirmed?(await o.fetchDelete(i),await _()):a.isDenied})};return(i,a)=>(V(),y("div",null,[l(B,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:c(()=>[e("div",le,[l(X,{modelValue:s(u),"onUpdate:modelValue":a[0]||(a[0]=t=>g(u)?u.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),l(Y),e("div",ne,[e("div",se,[l(Z,{modelValue:s(d),"onUpdate:modelValue":a[1]||(a[1]=t=>g(d)?d.value=t:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),l(w,{color:"primary",onClick:a[2]||(a[2]=t=>b("form"))},{default:c(()=>[q(" Agregar ")]),_:1})])]),_:1}),l(A),l(te,{class:"text-no-wrap"},{default:c(()=>[oe,v(e("div",ie,null,512),[[x,!0]]),e("tbody",null,[v(e("tr",null,[e("td",re,[l(W)])],512),[[x,s(C)]]),(V(!0),y(O,null,H(s(p),(t,E)=>v((V(),y("tr",{key:E,style:{height:"3.75rem"}},[e("td",null,[l(ee,{modelValue:t.inUse,"onUpdate:modelValue":f=>t.inUse=f,color:"success",inset:"",value:t.inUse,"true-value":1,"false-value":0,"hide-details":"",onClick:f=>P(t,t.inUse)},null,8,["modelValue","onUpdate:modelValue","value","onClick"])]),e("td",null,[e("span",null,r(t.code),1)]),e("td",null,[e("span",null,r(t.name),1)]),e("td",null,[e("span",null,r(t.vrBuys_name),1)]),e("td",null,[e("span",null,r(t.depreciation_name),1)]),e("td",null,[e("span",null,r(t.depreciationExpense_name),1)]),e("td",null,[e("span",null,r(t.fiscalDepreciation_name),1)]),e("td",null,[e("span",null,r(t.taxDepreciationExpense_name),1)]),e("td",ue,[l(w,{size:"x-small",color:"error",variant:"text",onClick:f=>N(t.id)},{default:c(()=>[l(k,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(w,{icon:"",size:"x-small",color:"default",variant:"text",onClick:f=>b("form",t.id)},{default:c(()=>[l(k,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])])])),[[x,!s(C)]])),128))]),v(e("tfoot",null,de,512),[[x,!s(p).length]])]),_:1}),l(A),l(B,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:c(()=>[e("span",pe,r(s(z)),1),l(ae,{modelValue:s(n),"onUpdate:modelValue":a[3]||(a[3]=t=>g(n)?n.value=t:null),size:"small","total-visible":5,length:s(T)},null,8,["modelValue","length"])]),_:1})]))}});export{Fe as _};
