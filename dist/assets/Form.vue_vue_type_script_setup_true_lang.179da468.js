import{d as Ke,E as Qe,b9 as Ye,k as Y,O as D,aB as Me,r as Oe,o as b,c as C,p as e,w as o,z as w,bE as We,bK as Ge,q as l,m as n,a2 as q,aN as M,a3 as B,V as y,I as z,U as de,b as Ie,F as J,a as ee,x as U,ba as Xe}from"./index.1bb36a93.js";import{u as Ze}from"./useCrudInvoiceStore.f06dfae7.js";import{h as Ue,r as K,s as le,b as He}from"./validators.bb8f1929.js";import{u as Je,V as el}from"./useImageUpload.49dcf1d8.js";import{u as O}from"./useSelect2Infite.14981200.js";import{u as ll}from"./useCrudTypesReceiptInvoiceStore.48bf890f.js";import{S as ie}from"./sweetalert2.74fe64d4.js";import{V as v,a as d}from"./VRow.971cb494.js";import{V as f}from"./VBtn.22d55266.js";import{V as al}from"./VForm.9a7f2cfe.js";import{V as S}from"./VSelect.ff4ebc03.js";import{V as A}from"./VTextField.1b37a66e.js";import{V as h}from"./VDivider.5fbe829f.js";import{V as ce}from"./VTooltip.80e9232f.js";import{V as tl}from"./VTable.ef7fd960.js";import{V as Ae}from"./VTextarea.43ed9da5.js";const ol=n("label",null,"Tipo",-1),sl={class:"d-flex justify-content-center aling-items-center"},ul={key:0,class:"d-flex justify-content-between aling-items-center p-2"},nl=n("label",null,"N\xFAmero",-1),rl=n("span",null,"El consecutivo de la factura podr\xEDa cambiar si alguien m\xE1s est\xE1 creando otra factura y la guarda primero. ",-1),dl=n("label",null,"Cliente",-1),il={class:"d-flex justify-content-center aling-items-center"},cl={key:0,class:"d-flex justify-content-between aling-items-center p-2"},ml=n("label",null,"Vendedor",-1),vl=n("span",null,"Responsable de la venta en tu empresa.",-1),fl={class:"d-flex justify-content-center aling-items-center"},pl={key:0,class:"d-flex justify-content-between aling-items-center p-2"},_l=n("label",null,"Fecha de elaboraci\xF3n",-1),gl=n("span",null,[w("De acuerdo al anexo t\xE9cnico de facturaci\xF3n electr\xF3nica de la DIAN."),n("br"),w(" La fecha de elaboraci\xF3n no puede ser superior o inferior en m\xE1s de 10 d\xEDas a la fecha actual.")],-1),bl=n("label",null,"Moneda",-1),yl=n("thead",null,[n("tr",null,[n("th",null,"#"),n("th",null,"Producto"),n("th",null,"Descripci\xF3n"),n("th",null,"Cantidad"),n("th",null,"Valor Unitario"),n("th",null,"% Descuento"),n("th",null,"Impuesto Cargo"),n("th",null,"Impuesto Retenci\xF3n"),n("th",null,"Valor Total"),n("th")])],-1),Vl={class:"d-flex justify-content-center aling-items-center"},hl={key:0,class:"d-flex justify-content-between aling-items-center p-2"},xl={style:{width:"12%"}},Cl={style:{width:"12%"}},kl={style:{width:"12%"}},wl=n("h3",null,"Formas de pago ",-1),Nl={class:"d-flex justify-content-center aling-items-center"},Il={key:0,class:"d-flex justify-content-between aling-items-center p-2"},Ul={for:""},Al={for:""},Fl={for:""},El=n("h2",{class:"mr-10"},"Total formas de pago",-1),Ll=n("h2",{class:"mr-10"},"Total neto:",-1),Tl=n("label",{for:""},"Observaci\xF3n",-1),Dl=n("label",{for:""},"Adjuntar archivo",-1),Jl=Ke({__name:"Form",setup($l){ll();const P=Qe(),g=Ze(),{formulario:c,arrayWayToPay:Q,arrayProducts:k,currencys:Fe,taxCharge:ae,withholdingTaxe:te,arrayIva:W,arrayWithholdingTaxe:G,loading:N,products:Rl,errorsArrayProduct:m,errorsArrayWayToPay:$,campDisabledAutomaticNumbering:Ee,customers_arrayInfo:me,customers_countLinks:Le,userSeller_arrayInfo:ve,userSeller_countLinks:Te,typesReceiptInvoices_arrayInfo:fe,typesReceiptInvoices_countLinks:De,products_arrayInfo:oe,products_countLinks:$e,arrayInfo:pe,countLinks:Re}=Ye(g),_e=Y(Je()),ge=Y(),V=Y([]),Se=Ue(),Pe=Ue().subtract(9,"days"),be=s=>{g.typeAction=s,s!="back"&&g.keyList++},R=Y(!0),X=Y(!0),qe=async()=>{var a;const s=await((a=ge.value)==null?void 0:a.validate());if(s!=null&&s.valid){if(R.value=!0,k.value.forEach((t,u)=>{t.product_id?m.value[u].product_id="":(m.value[u].product_id="Este campo es obligatorio",R.value=!1),t.quantity?m.value[u].quantity="":(m.value[u].quantity="Este campo es obligatorio",R.value=!1),t.unit_value?m.value[u].unit_value="":(m.value[u].unit_value="Este campo es obligatorio",R.value=!1),t.discount_rate?m.value[u].discount_rate="":(m.value[u].discount_rate="Este campo es obligatorio",R.value=!1),t.tax_charge?m.value[u].tax_charge="":(m.value[u].tax_charge="Este campo es obligatorio",R.value=!1),t.withholding_tax?m.value[u].withholding_tax="":(m.value[u].withholding_tax="Este campo es obligatorio",R.value=!1)}),!R.value||k.value.length<1)return ie.fire("Ingrese almenos un producto","","question"),!1;if(X.value=!0,Q.value.forEach((t,u)=>{t.ledgerAccount_id?$.value[u].ledgerAccount_id="":($.value[u].ledgerAccount_id="Este campo es obligatorio",X.value=!1),t.amount?$.value[u].amount="":($.value[u].amount="Este campo es obligatorio",X.value=!1)}),!X.value||Q.value.length<1)return ie.fire("Ingrese almenos una de forma de pago","","question"),!1;if(c.value.company_id=P.company.id,c.value.gross_total=se.value,c.value.discount=ue.value,c.value.subtotal=xe.value,c.value.total_form_payment=Ce.value,c.value.net_total=ke.value,c.value.attachFile=_e.value.imageFile,Number(c.value.total_form_payment)<Number(c.value.net_total)||Number(c.value.total_form_payment)>Number(c.value.net_total))return ie.fire({icon:"error",title:"Oops...",text:'El monto "total formas de pago" no coincide con "Total neto"'}),!1;const r=await g.fetchSave();r.status===200&&be("list"),r.status===422&&(V.value=r.error)}},ye=D(()=>function(s){var x;const a=Z.value(s),r=H.value(s),t=a-a*r,u=Ve.value(s,t),_=he.value(s,t),p=t+u+_;return s.value_total=p.toFixed(2),(x=p.toFixed(2))!=null?x:0}),Z=D(()=>function(s){var r,t;const a=Number((r=s.quantity)!=null?r:0)*Number((t=s.unit_value)!=null?t:0);return a!=null?a:0}),H=D(()=>function(s){var r;const a=Number((r=s.discount_rate)!=null?r:0)/100;return a!=null?a:0}),Ve=D(()=>function(s,a){var u;const r=ae.value.find(_=>_.id===s.tax_charge),t=a*Number((u=r==null?void 0:r.value)!=null?u:0);return t!=null?t:0}),he=D(()=>function(s,a){var u;const r=te.value.find(_=>_.id===s.withholding_tax),t=a*Number((u=r==null?void 0:r.value)!=null?u:0);return t!=null?t:0}),se=D(()=>{let s=0;if(k.value.length>0)return k.value.forEach(a=>{var t,u;const r=Number((t=a.quantity)!=null?t:0)*Number((u=a.unit_value)!=null?u:0);s+=r},0),s!=null?s:0}),ue=D(()=>{let s=0;if(k.value.length>0)return k.value.forEach(a=>{const r=Z.value(a),t=H.value(a),u=r*t;s+=u},0),s!=null?s:0}),xe=D(()=>{var a,r;let s=((a=se.value)!=null?a:0)-((r=ue.value)!=null?r:0);return s!=null?s:0}),ne=()=>{W.value=[],k.value.forEach(s=>{const a=ae.value.find(r=>r.id===s.tax_charge);if(a){const r=Z.value(s),t=H.value(s),u=r*t,_=r-u,p=Ve.value(s,_),x=W.value.find(j=>j.iva_id===a.id);x?x.iva=Number(x.iva)+p:W.value.push({iva_id:a==null?void 0:a.id,name:a==null?void 0:a.name,value:a==null?void 0:a.value,iva:p.toFixed(2)})}})},re=()=>{G.value=[],k.value.forEach(s=>{const a=te.value.find(r=>r.id===s.withholding_tax);if(a){const r=Z.value(s),t=H.value(s),u=r*t,_=r-u,p=he.value(s,_),x=G.value.find(j=>j.withholdingTaxe_id===a.id);x?x.iva=Number(x.iva)+p:G.value.push({withholdingTaxe_id:a==null?void 0:a.id,name:a==null?void 0:a.name,value:a==null?void 0:a.value,iva:p.toFixed(2)})}})},Ce=D(()=>{let s=0;if(Q.value.length>0)return Q.value.forEach(a=>{s+=Number(a.amount)},0),s!=null?s:0}),ke=D(()=>{let s=0;if(k.value.length>0)return k.value.forEach(a=>{const r=ye.value(a);s+=Number(r)}),ne(),re(),s!=null?s:0}),Be=(s,a)=>{let r=I.dataNueva.value.find(t=>t.id===s);r&&(a.table=r.table,a.ledgerAccount_id=r.id)},je=(s,a)=>{let r=oe.value.find(t=>t.id===s);a.unit_value=r.price},ze=s=>{g.numberIncrementInvoice(s)},I=O(g.fetchLedgerAccountAuxiliaryList,pe,{company_id:P.company.id}),F=O(g.fetchProductList,oe,{company_id:P.company.id}),E=O(g.fetchTypeReceipInvoicetList,fe,{company_id:P.company.id}),L=O(g.fetchCustomerOfThirdList,me,{company_id:P.company.id}),T=O(g.fetchSellerOfUserList,ve,{company_id:P.company.id});return Me(async()=>{await g.fetchDataForm(P.company.id),I.dataNueva.value=pe.value,I.totalLinks.value=Re.value,F.dataNueva.value=oe.value,F.totalLinks.value=$e.value,E.dataNueva.value=fe.value,E.totalLinks.value=De.value,L.dataNueva.value=me.value,L.totalLinks.value=Le.value,T.dataNueva.value=ve.value,T.totalLinks.value=Te.value}),(s,a)=>{const r=Oe("RouterLink");return b(),C("div",null,[e(Xe,{class:"mt-5"},{title:o(()=>[e(v,null,{default:o(()=>[e(d,{class:"d-flex justify-content-between"},{default:o(()=>[w(" Formulario Factura "),e(f,{color:"secondary",onClick:a[0]||(a[0]=t=>be("back"))},{default:o(()=>[w(" Atras ")]),_:1})]),_:1})]),_:1})]),default:o(()=>[e(We,null,{default:o(()=>[e(al,{onSubmit:a[32]||(a[32]=Ge(()=>{},["prevent"])),ref_key:"formValidation",ref:ge,"lazy-validation":""},{default:o(()=>[e(v,null,{default:o(()=>[e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[ol]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(S,{"item-title":"voucherName","item-value":"id",modelValue:l(c).typesReceiptInvoice_id,"onUpdate:modelValue":[a[4]||(a[4]=t=>l(c).typesReceiptInvoice_id=t),a[5]||(a[5]=t=>{l(V).typesReceiptInvoice_id="",l(V).number="",ze(t)})],items:l(E).dataNueva.value,rules:[l(K)],"error-messages":l(V).typesReceiptInvoice_id},{"prepend-item":o(()=>[e(A,{placeholder:"Buscar...",class:"mb-2",modelValue:l(E).searchQuery.value,"onUpdate:modelValue":a[1]||(a[1]=t=>l(E).searchQuery.value=t)},null,8,["modelValue"]),e(h)]),"append-item":o(()=>[e(h),n("div",sl,[q(e(M,{size:"24",color:"primary",indeterminate:""},null,512),[[B,l(N)]])]),l(N)?z("",!0):(b(),C("div",ul,[e(r,{to:{name:"Admin-TypesReceiptInvoice-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:o(()=>[e(f,{color:"success"},{default:o(()=>[w("Crear Registro")]),_:1})]),_:1}),n("div",null,[e(f,{class:"mt-2",disabled:l(E).page.value<=1,onClick:a[2]||(a[2]=t=>l(E).prev()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(f,{class:"mt-2",disabled:l(E).page.value>=l(E).totalLinks.value,onClick:a[3]||(a[3]=t=>l(E).next()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["modelValue","items","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[nl,e(ce,{location:"top"},{activator:o(({props:t})=>[e(y,de({color:"primary"},t,{size:"30",icon:"mdi-help-circle"}),null,16)]),default:o(()=>[rl]),_:1})]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(A,{disabled:!!l(Ee),modelValue:l(c).number,"onUpdate:modelValue":a[6]||(a[6]=t=>l(c).number=t),clearable:"",placeholder:"N\xFAmero","error-messages":l(V).number,onKeypress:a[7]||(a[7]=t=>{l(V).number="",l(le)(t)}),rules:[l(K)]},null,8,["disabled","modelValue","error-messages","rules"])]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[dl]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(S,{"item-title":"full_name","item-value":"id",modelValue:l(c).customer_id,"onUpdate:modelValue":[a[11]||(a[11]=t=>l(c).customer_id=t),a[12]||(a[12]=t=>l(V).customer_id="")],items:l(L).dataNueva.value,rules:[l(K)],"error-messages":l(V).customer_id},{"prepend-item":o(()=>[e(A,{placeholder:"Buscar...",class:"mb-2",modelValue:l(L).searchQuery.value,"onUpdate:modelValue":a[8]||(a[8]=t=>l(L).searchQuery.value=t)},null,8,["modelValue"]),e(h)]),"append-item":o(()=>[e(h),n("div",il,[q(e(M,{size:"24",color:"primary",indeterminate:""},null,512),[[B,l(N)]])]),l(N)?z("",!0):(b(),C("div",cl,[e(r,{to:{name:"Admin-Third-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:o(()=>[e(f,{color:"success"},{default:o(()=>[w("Crear Registro")]),_:1})]),_:1}),n("div",null,[e(f,{class:"mt-2",disabled:l(L).page.value<=1,onClick:a[9]||(a[9]=t=>l(L).prev()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(f,{class:"mt-2",disabled:l(L).page.value>=l(L).totalLinks.value,onClick:a[10]||(a[10]=t=>l(L).next()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["modelValue","items","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[ml,e(ce,{location:"left"},{activator:o(({props:t})=>[e(y,de({color:"primary"},t,{size:"30",icon:"mdi-help-circle"}),null,16)]),default:o(()=>[vl]),_:1})]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(S,{"item-title":"name","item-value":"id",modelValue:l(c).seller_id,"onUpdate:modelValue":[a[16]||(a[16]=t=>l(c).seller_id=t),a[17]||(a[17]=t=>l(V).seller_id="")],items:l(T).dataNueva.value,rules:[l(K)],"error-messages":l(V).seller_id},{"prepend-item":o(()=>[e(A,{placeholder:"Buscar...",class:"mb-2",modelValue:l(T).searchQuery.value,"onUpdate:modelValue":a[13]||(a[13]=t=>l(T).searchQuery.value=t)},null,8,["modelValue"]),e(h)]),"append-item":o(()=>[e(h),n("div",fl,[q(e(M,{size:"24",color:"primary",indeterminate:""},null,512),[[B,l(N)]])]),l(N)?z("",!0):(b(),C("div",pl,[e(r,{to:{name:"Admin-User-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:o(()=>[e(f,{color:"success"},{default:o(()=>[w("Crear Registro")]),_:1})]),_:1}),n("div",null,[e(f,{class:"mt-2",disabled:l(T).page.value<=1,onClick:a[14]||(a[14]=t=>l(T).prev()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(f,{class:"mt-2",disabled:l(T).page.value>=l(T).totalLinks.value,onClick:a[15]||(a[15]=t=>l(T).next()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["modelValue","items","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[_l,e(ce,{location:"left"},{activator:o(({props:t})=>[e(y,de({color:"primary"},t,{size:"30",icon:"mdi-help-circle"}),null,16)]),default:o(()=>[gl]),_:1})]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(A,{clearable:"",modelValue:l(c).date_elaboration,"onUpdate:modelValue":a[18]||(a[18]=t=>l(c).date_elaboration=t),type:"date",placeholder:"Fecha de elaboraci\xF3n",rules:[l(K),l(He)(l(c).date_elaboration,l(Pe).format("YYYY-MM-DD"),l(Se).format("YYYY-MM-DD"))],"error-messages":l(V).date_elaboration,onChange:a[19]||(a[19]=t=>l(V).date_elaboration="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:o(()=>[e(v,{"no-gutters":""},{default:o(()=>[e(d,{cols:"12",md:"3"},{default:o(()=>[bl]),_:1}),e(d,{cols:"12",md:"9"},{default:o(()=>[e(S,{clearable:"","item-title":"name","item-value":"id",items:l(Fe),modelValue:l(c).currency_id,"onUpdate:modelValue":[a[20]||(a[20]=t=>l(c).currency_id=t),a[21]||(a[21]=t=>l(V).currency_id="")],rules:[l(K)],"error-messages":l(V).currency_id},null,8,["items","modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(h,{class:"my-5"}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[e(f,{variant:"outlined",onClick:a[22]||(a[22]=t=>l(g).addArrayProducts())},{default:o(()=>[e(y,{icon:"mdi-plus-circle"}),w(" Agregar producto ")]),_:1})]),_:1})]),_:1}),l(k).length>0?(b(),Ie(v,{key:0},{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[e(tl,null,{default:o(()=>[yl,n("tbody",null,[(b(!0),C(J,null,ee(l(k),(t,u)=>{var _,p,x,j,we,Ne;return q((b(),C("tr",{key:u},[n("td",null,U(u+1),1),n("td",null,[e(S,{"item-title":"name","item-value":"id",modelValue:t.product_id,"onUpdate:modelValue":[i=>t.product_id=i,i=>{je(i,t),l(m)[u].product_id=""}],items:l(F).dataNueva.value,"error-messages":(_=l(m)[u])==null?void 0:_.product_id},{"prepend-item":o(()=>[e(A,{placeholder:"Buscar...",class:"mb-2",modelValue:l(F).searchQuery.value,"onUpdate:modelValue":a[23]||(a[23]=i=>l(F).searchQuery.value=i)},null,8,["modelValue"]),e(h)]),"append-item":o(()=>[e(h),n("div",Vl,[q(e(M,{size:"24",color:"primary",indeterminate:""},null,512),[[B,l(N)]])]),l(N)?z("",!0):(b(),C("div",hl,[e(r,{to:{name:"Admin-Product-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:o(()=>[e(f,{color:"success"},{default:o(()=>[w("Crear Registro")]),_:1})]),_:1}),n("div",null,[e(f,{class:"mt-2",disabled:l(F).page.value<=1,onClick:a[24]||(a[24]=i=>l(F).prev()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(f,{class:"mt-2",disabled:l(F).page.value>=l(F).totalLinks.value,onClick:a[25]||(a[25]=i=>l(F).next()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:2},1032,["modelValue","onUpdate:modelValue","items","error-messages"])]),n("td",null,[e(Ae,{disabled:!t.product_id,clearable:"",modelValue:t.description,"onUpdate:modelValue":i=>t.description=i},null,8,["disabled","modelValue","onUpdate:modelValue"])]),n("td",xl,[e(A,{disabled:!t.product_id,clearable:"",modelValue:t.quantity,"onUpdate:modelValue":i=>t.quantity=i,"error-messages":(p=l(m)[u])==null?void 0:p.quantity,onKeypress:i=>{l(m)[u].quantity="",l(le)(i)}},null,8,["disabled","modelValue","onUpdate:modelValue","error-messages","onKeypress"])]),n("td",Cl,[e(A,{disabled:!t.product_id,clearable:"",modelValue:t.unit_value,"onUpdate:modelValue":i=>t.unit_value=i,"error-messages":(x=l(m)[u])==null?void 0:x.unit_value,onKeypress:i=>{l(m)[u].unit_value="",l(le)(i)}},null,8,["disabled","modelValue","onUpdate:modelValue","error-messages","onKeypress"])]),n("td",kl,[e(A,{disabled:!t.product_id,clearable:"",modelValue:t.discount_rate,"onUpdate:modelValue":i=>t.discount_rate=i,"error-messages":(j=l(m)[u])==null?void 0:j.discount_rate,onKeypress:i=>{l(m)[u].discount_rate="",l(le)(i)}},null,8,["disabled","modelValue","onUpdate:modelValue","error-messages","onKeypress"])]),n("td",null,[e(S,{disabled:!t.product_id,clearable:"","item-title":"name","item-value":"id",items:l(ae),modelValue:t.tax_charge,"onUpdate:modelValue":[i=>t.tax_charge=i,i=>{ne(),l(m)[u].tax_charge=""}],"error-messages":(we=l(m)[u])==null?void 0:we.tax_charge},null,8,["disabled","items","modelValue","onUpdate:modelValue","error-messages"])]),n("td",null,[e(S,{disabled:!t.product_id,clearable:"","item-title":"name","item-value":"id",items:l(te),modelValue:t.withholding_tax,"onUpdate:modelValue":[i=>t.withholding_tax=i,i=>{re(),l(m)[u].withholding_tax=""}],"error-messages":(Ne=l(m)[u])==null?void 0:Ne.withholding_tax},null,8,["disabled","items","modelValue","onUpdate:modelValue","error-messages"])]),n("td",null,U(l(ye)(t)),1),n("td",null,[e(f,{onClick:i=>{l(g).deleteArrayProducts(u,t),ne(),re()},icon:"tabler-trash",variant:"text",color:"error"},null,8,["onClick"])])])),[[B,t.delete!="delete"]])}),128))])]),_:1})]),_:1})]),_:1})):z("",!0),e(h,{class:"my-5"}),e(v,null,{default:o(()=>[e(d,{cols:"8"},{default:o(()=>[e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[wl]),_:1}),(b(!0),C(J,null,ee(l(Q),(t,u)=>(b(),Ie(d,{cols:"12",class:"d-flex aling-items-center",key:u},{default:o(()=>[q(e(v,null,{default:o(()=>[e(d,{cols:"6",class:"d-flex aling-items-center"},{default:o(()=>{var _;return[e(S,{loading:l(N),"item-title":"name","item-value":"id",items:l(I).dataNueva.value,modelValue:t.ledgerAccount_id,"onUpdate:modelValue":p=>{Be(p,t),l($)[u].ledgerAccount_id=""},"error-messages":(_=l($)[u])==null?void 0:_.ledgerAccount_id},{"prepend-item":o(()=>[e(A,{placeholder:"Buscar...",class:"mb-2",modelValue:l(I).searchQuery.value,"onUpdate:modelValue":a[26]||(a[26]=p=>l(I).searchQuery.value=p)},null,8,["modelValue"]),e(h)]),"append-item":o(()=>[e(h),n("div",Nl,[q(e(M,{size:"24",color:"primary",indeterminate:""},null,512),[[B,l(N)]])]),l(N)?z("",!0):(b(),C("div",Il,[e(r,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:o(()=>[e(f,{color:"success"},{default:o(()=>[w("Crear Registro")]),_:1})]),_:1}),n("div",null,[e(f,{class:"mt-2",disabled:l(I).page.value<=1,onClick:a[27]||(a[27]=p=>l(I).prev()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(f,{class:"mt-2",disabled:l(I).page.value>=l(I).totalLinks.value,onClick:a[28]||(a[28]=p=>l(I).next()),color:"success"},{default:o(()=>[e(y,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:2},1032,["loading","items","modelValue","onUpdate:modelValue","error-messages"])]}),_:2},1024),e(d,{cols:"4",class:"d-flex aling-items-center"},{default:o(()=>{var _;return[e(A,{disabled:!t.ledgerAccount_id,modelValue:t.amount,"onUpdate:modelValue":p=>t.amount=p,placeholder:"0.00","error-messages":(_=l($)[u])==null?void 0:_.amount,onKeypress:p=>l($)[u].amount=""},null,8,["disabled","modelValue","onUpdate:modelValue","error-messages","onKeypress"])]}),_:2},1024),e(d,{cols:"2",class:"d-flex aling-items-center"},{default:o(()=>[e(f,{onClick:_=>l(g).deleteWayToPay(u,t),icon:"tabler-trash",variant:"text",color:"error"},null,8,["onClick"])]),_:2},1024)]),_:2},1536),[[B,t.delete!="delete"]])]),_:2},1024))),128))]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[e(h,{class:"my-5"}),e(f,{variant:"outlined",onClick:a[29]||(a[29]=t=>l(g).addWayToPay())},{default:o(()=>[e(y,{icon:"mdi-plus-circle"}),w(" Agregar otra forma de pago ")]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"4"},{default:o(()=>[e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[n("label",Ul,"Total Bruto: "+U(l(se)),1)]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[n("label",Al,"Descuentos: "+U(l(ue)),1)]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[n("label",Fl,"Subtotal: "+U(l(xe)),1)]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[(b(!0),C(J,null,ee(l(W),(t,u)=>(b(),C("label",{key:u},[n("p",null,U(t.name)+" : "+U(t.iva),1)]))),128))]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12"},{default:o(()=>[(b(!0),C(J,null,ee(l(G),(t,u)=>(b(),C("label",{key:u},[n("p",null,U(t.name)+" : "+U(t.iva),1)]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(h,{class:"my-5"}),e(v,null,{default:o(()=>[e(d,{cols:"8"},{default:o(()=>[e(v,null,{default:o(()=>[e(d,{cols:"10",class:"d-flex justify-content-end"},{default:o(()=>[El,n("h2",null,U(l(Ce)),1)]),_:1}),e(d,{cols:"2"})]),_:1})]),_:1}),e(d,{cols:"4",class:"d-flex justify-content-end"},{default:o(()=>[Ll,n("h2",null,U(l(ke)),1)]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"2"},{default:o(()=>[Tl]),_:1}),e(d,{cols:"10"},{default:o(()=>[e(Ae,{modelValue:l(c).observation,"onUpdate:modelValue":a[30]||(a[30]=t=>l(c).observation=t),placeholder:"Aqu\xED puedes ingresar comentarios adicionales o infomraci\xF3n para tu cliente. Por ejemplo: 'Favor consignar a la cuenta N\xB0 000000 del baco XYZ'."},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{class:"d-flex align-items-center"},{default:o(()=>[e(d,{cols:"2"},{default:o(()=>[Dl]),_:1}),e(d,{cols:"4"},{default:o(()=>[e(el,{onChange:l(_e).handleImageSelected},null,8,["onChange"])]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(d,{cols:"12 d-flex justify-content-center"},{default:o(()=>[e(f,{color:"primary",onClick:a[31]||(a[31]=t=>qe())},{default:o(()=>[w("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{Jl as _};
