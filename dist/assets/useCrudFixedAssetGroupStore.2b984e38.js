import{bo as l,bg as i,bp as n,bq as d}from"./index.1bb36a93.js";import{S as u}from"./sweetalert2.74fe64d4.js";const s=d(),h=l("useCrudFixedAssetGroupStore",{state:()=>({loading:!1,typeAction:"list",fixedAssetGroupData:{},keyList:0,fixedAssetGroups:[],totalData:0,totalPage:0,currentPage:1,ledgerAccountGroup:[],lastPage:0,formulario:{company_id:null,code:null,name:null,vrBuys_id:null,vrBuys_table:null,depreciation_id:null,depreciation_table:null,depreciationExpense_id:null,depreciationExpense_table:null,fiscalDepreciation_id:null,fiscalDepreciation_table:null,taxDepreciationExpense_id:null,taxDepreciationExpense_table:null},vrBuysList:[],vrBuysCountLinks:0,depreciationList:[],depreciationCountLinks:0,depreciationExpenseList:[],depreciationExpenseCountLinks:0,fiscalDepreciationList:[],fiscalDepreciationCountLinks:0,taxDepreciationExpenseList:[],taxDepreciationExpenseCountLinks:0}),getters:{},actions:{clearFormulario(){this.formulario={company_id:null,code:null,name:null,vrBuys_id:null,vrBuys_table:null,depreciation_id:null,depreciation_table:null,depreciationExpense_id:null,depreciationExpense_table:null,fiscalDepreciation_id:null,fiscalDepreciation_table:null,taxDepreciationExpense_id:null,taxDepreciationExpense_table:null}},clonarForm(){for(const e in this.formulario)this.fixedAssetGroupData[e]=this.formulario[e]},async fetchAll(e){this.loading=!0,await i.post("/fixedAssetGroup-list",e).then(t=>{this.loading=!1,this.fixedAssetGroups=t.data.fixedAssetGroups,this.totalData=t.data.totalData,this.totalPage=t.data.totalPage,this.currentPage=t.data.currentPage,this.lastPage=t.data.lastPage}).catch(async t=>{this.loading=!1,console.log(await t)})},async fetchSave(){const e=n();return e.isLoading=!0,await await i.post("/fixedAssetGroup-create",this.formulario).then(a=>(e.isLoading=!1,a.data.code===200&&(this.clonarForm(),this.clearFormulario(),s.toast("\xC9xito",a.data.message,"success")),a.data.code===500&&s.toast("Error",a.data.message,"danger"),a.data.status===422?(s.toast("Error",a.data.message,"danger"),{error:a.data.errors,status:a.data.status}):{status:a.data.code})).catch(async a=>(e.isLoading=!1,a.response.status===500&&s.toast("Error",a.response.data.message,"danger"),console.log(await a),a.response.status))},async fetchDelete(e){const t=n();t.isLoading=!0,await i.delete("/fixedAssetGroup-delete/"+e).then(a=>{t.isLoading=!1,s.toast("\xC9xito",a.data.message,"success")}).catch(async a=>{t.isLoading=!1,console.log(await a)})},async fetchInfo(e){const t=n();if(e!==this.fixedAssetGroupData.id)t.isLoading=!0,await i.get(`/fixedAssetGroup-info/${e}`).then(async a=>{t.isLoading=!1,this.fixedAssetGroupData.id=e,this.formulario=await a.data.data,this.clonarForm()}).catch(async a=>{t.isLoading=!1,console.log(await a)});else for(const a in this.fixedAssetGroupData)this.formulario[a]=this.fixedAssetGroupData[a]},async fetchDataForm(){const e=n();e.isLoading=!0,await i.get("/fixedAssetGroup-dataForm").then(t=>{e.isLoading=!1,this.vrBuysList=t.data.arrayInfo,this.vrBuysCountLinks=t.data.countLinks,this.depreciationList=t.data.arrayInfo,this.depreciationCountLinks=t.data.countLinks,this.depreciationExpenseList=t.data.arrayInfo,this.depreciationExpenseCountLinks=t.data.countLinks,this.fiscalDepreciationList=t.data.arrayInfo,this.fiscalDepreciationCountLinks=t.data.countLinks,this.taxDepreciationExpenseList=t.data.arrayInfo,this.taxDepreciationExpenseCountLinks=t.data.countLinks}).catch(async t=>{e.isLoading=!1,console.log(await t)})},changeState(e,t){const a=n();let o="";t==0?o="activar":o="inactivar",u.fire({title:"\xBFEst\xE1 seguro de "+o+" el Registro seleccionado?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No",allowOutsideClick:!1}).then(c=>{c.isConfirmed?(a.isLoading=!0,i.post("/fixedAssetGroup-changeState",e).then(r=>{a.isLoading=!1,r.data.code==200&&s.toast("\xC9xito",r.data.msg,"success"),r.data.code==500&&s.toast("\xC9xito",r.data.msg,"danger")})):o=="activar"?e.inUse=0:e.inUse=1})},async fetchLedgerAccountListVrBuys(e){return this.loading=!0,await i.post("/fixedAssetGroup-listAuxiliaryAndSubAuxiliary",e).then(a=>(this.loading=!1,this.vrBuysList=a.data.arrayInfo)).catch(async a=>(this.loading=!1,console.log(await a),0))},async fetchLedgerAccountListDepreciation(e){return this.loading=!0,await i.post("/fixedAssetGroup-listAuxiliaryAndSubAuxiliary",e).then(a=>(this.loading=!1,this.depreciationList=a.data.arrayInfo)).catch(async a=>(this.loading=!1,console.log(await a),0))},async fetchLedgerAccountListDepreciationExpense(e){return this.loading=!0,await i.post("/fixedAssetGroup-listAuxiliaryAndSubAuxiliary",e).then(a=>(this.loading=!1,this.depreciationExpenseList=a.data.arrayInfo)).catch(async a=>(this.loading=!1,console.log(await a),0))},async fetchLedgerAccountListFiscalDepreciation(e){return this.loading=!0,await i.post("/fixedAssetGroup-listAuxiliaryAndSubAuxiliary",e).then(a=>(this.loading=!1,this.fiscalDepreciationList=a.data.arrayInfo)).catch(async a=>(this.loading=!1,console.log(await a),0))},async fetchLedgerAccountListTaxDepreciationExpense(e){return this.loading=!0,await i.post("/fixedAssetGroup-listAuxiliaryAndSubAuxiliary",e).then(a=>(this.loading=!1,this.taxDepreciationExpenseList=a.data.arrayInfo)).catch(async a=>(this.loading=!1,console.log(await a),0))}}});export{h as u};
