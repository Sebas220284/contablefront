import{d as B,E as D,b9 as E,k,aB as I,r as K,o as F,c as A,p as e,w as t,z as y,q as o,m as c,a2 as q,aN as T,a3 as z,V as N,I as G}from"./index.1bb36a93.js";import{u as M}from"./useCrudCashReceiptConfigurationStore.4291b69c.js";import{r as V}from"./validators.bb8f1929.js";import{u as P}from"./useSelect2Infite.14981200.js";import{a as r,V as n}from"./VRow.971cb494.js";import{V as v}from"./VBtn.22d55266.js";import{V as f}from"./VTextField.1b37a66e.js";import{V as U}from"./VSelect.ff4ebc03.js";import{V as Q,a as w}from"./VRadioGroup.dd1ceab0.js";import{V as R}from"./VCheckbox.b279b9c1.js";import{V as S}from"./VDivider.5fbe829f.js";import{V as H}from"./VForm.9a7f2cfe.js";const J=c("h3",null,"Datos generales",-1),O=c("h3",null,"Fomarto de impresi\xF3n",-1),W=c("h3",null,"\xBFManeja centros de costo? ",-1),X=c("h3",null,"Configuraciones complementarias",-1),Y={class:"d-flex justify-content-center aling-items-center"},Z={key:0,class:"d-flex justify-content-between aling-items-center p-2"},h=c("h3",null,"Datos complementarios mail",-1),ce=B({__name:"Form",setup(ee){const _=D(),p=M(),{formulario:s,arrayInfo:C,countLinks:j,loading:g}=E(p),d=P(p.fetchLedgerAccountAuxiliaryList,C,{company_id:_.company.id}),b=k(),u=k([]),L=(i,l)=>{let m=d.dataNueva.value.find(a=>a.id===i);m&&(s.value.table=m.table,s.value.ledgerAccount_id=m.id)},x=async i=>{var l;await((l=b.value)==null?void 0:l.resetValidation()),p.typeAction=i,u.value=[],i!="back"&&p.keyList++},$=async()=>{var l;const i=await((l=b.value)==null?void 0:l.validate());if(s.value.company_id=_.company.id,i!=null&&i.valid){const m=await p.fetchSave();m.status===200&&x("list"),m.status===422&&(u.value=m.error)}};return I(async()=>{await p.fetchDataForm(),d.dataNueva.value=C.value,d.totalLinks.value=j.value}),(i,l)=>{const m=K("RouterLink");return F(),A("div",null,[e(n,null,{default:t(()=>[e(r,{cols:"12",class:"d-flex justify-content-end"},{default:t(()=>[e(v,{color:"secondary",onClick:l[0]||(l[0]=a=>x("back"))},{default:t(()=>[y(" Atras ")]),_:1})]),_:1})]),_:1}),e(H,{ref_key:"formValidation",ref:b,"lazy-validation":""},{default:t(()=>[e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[J]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"4"},{default:t(()=>[e(f,{modelValue:o(s).code,"onUpdate:modelValue":l[1]||(l[1]=a=>o(s).code=a),"error-messages":o(u).code,label:"C\xF3digo del comprobante *",onKeypress:l[2]||(l[2]=a=>o(u).code=""),rules:[o(V)]},null,8,["modelValue","error-messages","rules"])]),_:1}),e(r,{cols:"4"},{default:t(()=>[e(f,{modelValue:o(s).title,"onUpdate:modelValue":l[3]||(l[3]=a=>o(s).title=a),"error-messages":o(u).title,label:"T\xEDtulo del comprobante *",onKeypress:l[4]||(l[4]=a=>o(u).title=""),rules:[o(V)]},null,8,["modelValue","error-messages","rules"])]),_:1}),e(r,{cols:"4"},{default:t(()=>[e(f,{modelValue:o(s).description,"onUpdate:modelValue":l[5]||(l[5]=a=>o(s).description=a),"error-messages":o(u).description,label:"Descripci\xF3n del comprobante *",onKeypress:l[6]||(l[6]=a=>o(u).description=""),rules:[o(V)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[O]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[e(U,{items:["B\xE1sico","B\xE1sico 2","Tirilla"],modelValue:o(s).printFormat,"onUpdate:modelValue":l[7]||(l[7]=a=>o(s).printFormat=a),label:"Formato"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[W]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(Q,{modelValue:o(s).manageCostCenters,"onUpdate:modelValue":l[8]||(l[8]=a=>o(s).manageCostCenters=a),inline:""},{default:t(()=>[e(w,{label:"Si",value:"Si"}),e(w,{label:"No",value:"No"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"4"},{default:t(()=>[e(R,{label:"Es requerido",modelValue:o(s).isRequired,"onUpdate:modelValue":l[9]||(l[9]=a=>o(s).isRequired=a),"true-value":1,"false-value":0},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[e(f,{modelValue:o(s).default,"onUpdate:modelValue":l[10]||(l[10]=a=>o(s).default=a),"error-messages":o(u).default,label:"Por defecto",onKeypress:l[11]||(l[11]=a=>o(u).default="")},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[X]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"4"},{default:t(()=>[e(R,{label:"Numeraci\xF3n automatica",modelValue:o(s).automaticNumbering,"onUpdate:modelValue":l[12]||(l[12]=a=>o(s).automaticNumbering=a),"true-value":1,"false-value":0},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[e(f,{modelValue:o(s).consecutive,"onUpdate:modelValue":l[13]||(l[13]=a=>o(s).consecutive=a),"error-messages":o(u).consecutive,label:"Consecutivo *",onKeypress:l[14]||(l[14]=a=>o(u).consecutive=""),rules:[o(V)]},null,8,["modelValue","error-messages","rules"])]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[e(U,{label:"Cuenta contable de anticipo",loading:o(g),"item-title":"name","item-value":"id",items:o(d).dataNueva.value,modelValue:o(s).ledgerAccount_id,"onUpdate:modelValue":l[18]||(l[18]=a=>{L(a,i.item),i.errorsledgerAccount_id=""}),"error-messages":o(u).ledgerAccount_id},{"prepend-item":t(()=>[e(f,{placeholder:"Buscar...",class:"mb-2",modelValue:o(d).searchQuery.value,"onUpdate:modelValue":l[15]||(l[15]=a=>o(d).searchQuery.value=a)},null,8,["modelValue"]),e(S)]),"append-item":t(()=>[e(S),c("div",Y,[q(e(T,{size:"24",color:"primary",indeterminate:""},null,512),[[z,o(g)]])]),o(g)?G("",!0):(F(),A("div",Z,[e(m,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:t(()=>[e(v,{color:"success"},{default:t(()=>[y("Crear Registro")]),_:1})]),_:1}),c("div",null,[e(v,{class:"mt-2",disabled:o(d).page.value<=1,onClick:l[16]||(l[16]=a=>o(d).prev()),color:"success"},{default:t(()=>[e(N,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),e(v,{class:"mt-2",disabled:o(d).page.value>=o(d).totalLinks.value,onClick:l[17]||(l[17]=a=>o(d).next()),color:"success"},{default:t(()=>[e(N,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["loading","items","modelValue","error-messages"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"3"},{default:t(()=>[h]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12",md:"4"},{default:t(()=>[e(f,{modelValue:o(s).subject,"onUpdate:modelValue":l[19]||(l[19]=a=>o(s).subject=a),"error-messages":o(u).subject,label:"Asunto *",onKeypress:l[20]||(l[20]=a=>o(u).subject=""),rules:[o(V)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(r,{cols:"12 d-flex justify-content-center"},{default:t(()=>[e(v,{color:"primary",onClick:l[21]||(l[21]=a=>$())},{default:t(()=>[y("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)])}}});export{ce as _};
