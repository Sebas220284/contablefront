import{d as E,b9 as A,E as P,k as y,aB as G,o as M,c as W,p as o,w as t,bE as q,q as e,a2 as c,a3 as C,V as L,U as H,z as J,ba as O,m}from"./index.1bb36a93.js";import{u as Q}from"./useEmployeeWorkingInformationStore.15a1225d.js";import{u as X}from"./useCrudEmployeeStore.8a70c480.js";import{r as d,s as Y,c as Z,d as x}from"./validators.bb8f1929.js";import{V as h}from"./VForm.9a7f2cfe.js";import{V as u,a as n}from"./VRow.971cb494.js";import{V as i}from"./VSelect.ff4ebc03.js";import{V as f}from"./VTextField.1b37a66e.js";import{V as ee}from"./VTooltip.80e9232f.js";import{V as F,a as V}from"./VRadioGroup.dd1ceab0.js";import{V as le}from"./VBtn.22d55266.js";const oe=m("div",{class:"d-flex flex-column"},[m("span",null,"Ingresa los siguientes datos para crear el contrato")],-1),ae=m("div",{class:"d-flex flex-column"},[m("b",null,"Informaci\xF3n laboral")],-1),te=m("label",{for:""},"\xBFEl sueldo del empleado es integral?",-1),se=m("span",null,"ART. 132 CST, no aplica para aprendices. ",-1),re=m("div",{class:"d-flex flex-column"},[m("b",null,"Datos de contrato")],-1),ne=m("div",{class:"d-flex flex-column"},[m("b",null,"Datos para aporte de seguridad social y parafiscales")],-1),de=m("label",{for:""},"\xBFDesea activar deducciones de retenciones en la fuente (valores mensuales)?",-1),Ce=E({__name:"WorkingInformation",setup(ue){const g=Q(),_=X(),{formulario:s,typeContracts:U,reasonRetirements:S,payrollGroups:$,chargeCatalogs:k,contributingTypes:D,contributingSubTypes:T,healthBackgrounds:w,pensionFunds:v,compensationBoxs:N,arls:R,riskClass:I,codes:B}=A(g),K=P(),r=y([]),j=p=>{r.value=[],_.typeAction=p,p!="back"&&_.keyList++},b=y(),z=async()=>{var l;const p=await((l=b.value)==null?void 0:l.validate());if(s.value.company_id=K.company.id,s.value.employee_id=_.formulario.id,p!=null&&p.valid){const a=await g.fetchSave();a.status===200&&j("list"),a.status===422&&(r.value=a.error)}};return G(()=>{g.fetchDataForm(),s.value.contract_number||(s.value.contract_number=_.formulario.document_number)}),(p,l)=>(M(),W("div",null,[o(O,{flat:""},{default:t(()=>[o(q,null,{default:t(()=>[o(h,{ref_key:"formValidation",ref:b,"lazy-validation":""},{default:t(()=>[o(u,null,{default:t(()=>[o(n,{cols:"12"},{default:t(()=>[oe]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[ae]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).typeContract_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[0]||(l[0]=a=>e(r).typeContract_id=""),l[1]||(l[1]=a=>e(s).typeContract_id=a)],items:e(U),label:"Tipo de contrato",modelValue:e(s).typeContract_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).contractStartDate,type:"date",onKeypress:l[2]||(l[2]=a=>e(r).contractStartDate=""),modelValue:e(s).contractStartDate,"onUpdate:modelValue":l[3]||(l[3]=a=>e(s).contractStartDate=a),label:"Fecha inicio de contrato",placeholder:"Fecha inicio de contrato",rules:[e(d)]},null,8,["error-messages","modelValue","rules"])]),_:1}),c(o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).contractFinalDate,type:"date",onKeypress:l[4]||(l[4]=a=>e(r).contractFinalDate=""),modelValue:e(s).contractFinalDate,"onUpdate:modelValue":l[5]||(l[5]=a=>e(s).contractFinalDate=a),label:"Fecha fin de contrato",placeholder:"Fecha fin de contrato",rules:[e(d)]},null,8,["error-messages","modelValue","rules"])]),_:1},512),[[C,e(s).contractStartDate]])]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).salary,onKeypress:l[6]||(l[6]=a=>{e(r).salary="",e(Y)(a)}),modelValue:e(s).salary,"onUpdate:modelValue":l[7]||(l[7]=a=>e(s).salary=a),label:"Sueldo",placeholder:"Sueldo",rules:[e(d),e(Z)(e(s).salary,0)]},null,8,["error-messages","modelValue","rules"])]),_:1}),c(o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).reasonRetirement_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[8]||(l[8]=a=>e(r).reasonRetirement_id=""),l[9]||(l[9]=a=>e(s).reasonRetirement_id=a)],items:e(S),label:"Motivo de retiro",modelValue:e(s).reasonRetirement_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1},512),[[C,e(s).contractFinalDate]])]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[te,o(ee,{location:"top"},{activator:t(({props:a})=>[o(L,H({color:"primary"},a,{size:"30",icon:"mdi-help-circle"}),null,16)]),default:t(()=>[se]),_:1}),o(F,{rules:[e(d)],inline:"",modelValue:e(s).comprehensive_salary,"onUpdate:modelValue":l[10]||(l[10]=a=>e(s).comprehensive_salary=a),"error-messages":e(r).comprehensive_salary,onChange:l[11]||(l[11]=a=>e(r).comprehensive_salary="")},{default:t(()=>[o(V,{label:"Si",value:"Si"}),o(V,{label:"No",value:"No"})]),_:1},8,["rules","modelValue","error-messages"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[re]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).contract_number,onKeypress:l[12]||(l[12]=a=>e(r).contract_number=""),modelValue:e(s).contract_number,"onUpdate:modelValue":l[13]||(l[13]=a=>e(s).contract_number=a),label:"N\xFAmero de contrato",placeholder:"N\xFAmero de contrato",rules:[e(d)]},null,8,["error-messages","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).payroll_group,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[14]||(l[14]=a=>e(r).payroll_group=""),l[15]||(l[15]=a=>e(s).payroll_group=a)],items:e($),label:"Grupo de n\xF3mina",modelValue:e(s).payroll_group,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).charge_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[16]||(l[16]=a=>e(r).charge_id=""),l[17]||(l[17]=a=>e(s).charge_id=a)],items:e(k),label:"Cargo",modelValue:e(s).charge_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[ne]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).typeContributor_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[18]||(l[18]=a=>e(r).typeContributor_id=""),l[19]||(l[19]=a=>e(s).typeContributor_id=a)],items:e(D),label:"Tipo de cotizante",modelValue:e(s).typeContributor_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).subTypeContributor_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[20]||(l[20]=a=>e(r).subTypeContributor_id=""),l[21]||(l[21]=a=>e(s).subTypeContributor_id=a)],items:e(T),label:"Sub tipo de cotizando",modelValue:e(s).subTypeContributor_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).health_background_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[22]||(l[22]=a=>e(r).health_background_id=""),l[23]||(l[23]=a=>e(s).health_background_id=a)],items:e(w),label:"Fondo de salud",modelValue:e(s).health_background_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).health_fund_percentage,onKeypress:l[24]||(l[24]=a=>e(r).health_fund_percentage=""),modelValue:e(s).health_fund_percentage,"onUpdate:modelValue":l[25]||(l[25]=a=>e(s).health_fund_percentage=a),label:"Porcentaje fondo de salud",placeholder:"Porcentaje fondo de salud",rules:[e(d),e(x)]},null,8,["error-messages","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).pension_fund_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[26]||(l[26]=a=>e(r).pension_fund_id=""),l[27]||(l[27]=a=>e(s).pension_fund_id=a)],items:e(v),label:"Fondo de pensiones",modelValue:e(s).pension_fund_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(f,{"error-messages":e(r).pension_fund_percentage,onKeypress:l[28]||(l[28]=a=>e(r).pension_fund_percentage=""),modelValue:e(s).pension_fund_percentage,"onUpdate:modelValue":l[29]||(l[29]=a=>e(s).pension_fund_percentage=a),label:"Porcentaje fondo de pensiones",placeholder:"Porcentaje fondo de pensiones",rules:[e(d),e(x)]},null,8,["error-messages","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).arl_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[30]||(l[30]=a=>e(r).arl_id=""),l[31]||(l[31]=a=>e(s).arl_id=a)],items:e(R),label:"ARL",modelValue:e(s).arl_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(u,null,{default:t(()=>[o(n,{cols:"4"},{default:t(()=>[o(i,{"error-messages":e(r).risk_class_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[32]||(l[32]=a=>e(r).risk_class_id=""),l[33]||(l[33]=a=>e(s).risk_class_id=a)],items:e(I),label:"Clase de riesgo",modelValue:e(s).risk_class_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"4"},{default:t(()=>[o(f,{modelValue:e(s).code_ciiu,"onUpdate:modelValue":l[34]||(l[34]=a=>e(s).code_ciiu=a),label:"C\xF3digo CIIU",maxlength:"4","error-messages":e(r).code_ciiu,onKeypress:l[35]||(l[35]=a=>e(r).code_ciiu=""),placeholder:"C\xF3digo CIIU"},null,8,["modelValue","error-messages"])]),_:1}),o(n,{cols:"4"},{default:t(()=>[o(i,{clearable:"","error-messages":e(r).code_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[36]||(l[36]=a=>e(r).code_id=""),l[37]||(l[37]=a=>e(s).code_id=a)],items:e(B),label:"C\xF3digo",modelValue:e(s).code_id},null,8,["error-messages","items","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).compensation_box_id,"item-value":"id","item-title":"name","onUpdate:modelValue":[l[38]||(l[38]=a=>e(r).compensation_box_id=""),l[39]||(l[39]=a=>e(s).compensation_box_id=a)],items:e(N),label:"Caja de compensacion",modelValue:e(s).compensation_box_id,rules:[e(d)]},null,8,["error-messages","items","modelValue","rules"])]),_:1}),o(n,{cols:"6"},{default:t(()=>[o(i,{"error-messages":e(r).severance_fund_id,"onUpdate:modelValue":[l[40]||(l[40]=a=>e(r).severance_fund_id=""),l[41]||(l[41]=a=>e(s).severance_fund_id=a)],"item-value":"id","item-title":"name",items:e(v),label:"Fondo de cesantias",modelValue:e(s).severance_fund_id},null,8,["error-messages","items","modelValue"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"6"},{default:t(()=>[de,o(F,{inline:"","error-messages":e(r).withholding_deductions,modelValue:e(s).withholding_deductions,"onUpdate:modelValue":l[42]||(l[42]=a=>e(s).withholding_deductions=a),onChange:l[43]||(l[43]=a=>e(r).withholding_deductions=""),rules:[e(d)]},{default:t(()=>[o(V,{label:"Si",value:"Si"}),o(V,{label:"No",value:"No"})]),_:1},8,["error-messages","modelValue","rules"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(n,{cols:"12",class:"d-flex justify-content-center align-items-center"},{default:t(()=>[o(le,{color:"success",onClick:l[44]||(l[44]=a=>z())},{default:t(()=>[J("Guardar y finalizar")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]))}});export{Ce as _};
