import{d as C,E as b,k as f,b9 as k,aB as x,o as w,c as S,p as a,w as o,z as p,q as r,m as B}from"./index.1bb36a93.js";import{u as F}from"./useCrudChargeCatalogStore.cf4c056c.js";import{r as _}from"./validators.bb8f1929.js";import{a as d,V as i}from"./VRow.971cb494.js";import{V}from"./VBtn.22d55266.js";import{V as A}from"./VTextField.1b37a66e.js";import{V as N}from"./VSelect.ff4ebc03.js";import{V as $}from"./VForm.9a7f2cfe.js";const q=B("p",null,"Al guardar los cambios, se actualizar\xE1 el nombre del cargo en los contratos de los empleados que lo tengan relacionado",-1),L=C({__name:"Form",setup(z){const g=b(),m=f(),n=F(),{formulario:u,ledgerAccountGroup:v}=k(n),s=f([]),c=async l=>{var e;await((e=m.value)==null?void 0:e.resetValidation()),n.typeAction=l,s.value=[],l!="back"&&n.keyList++},y=async()=>{var e;const l=await((e=m.value)==null?void 0:e.validate());if(u.value.company_id=g.company.id,l!=null&&l.valid){const t=await n.fetchSave();t.status===200&&c("list"),t.status===422&&(s.value=t.error)}};return x(async()=>{await n.fetchDataForm()}),(l,e)=>(w(),S("div",null,[a(i,null,{default:o(()=>[a(d,{cols:"12",class:"d-flex justify-content-end"},{default:o(()=>[a(V,{color:"secondary",onClick:e[0]||(e[0]=t=>c("back"))},{default:o(()=>[p(" Atras ")]),_:1})]),_:1})]),_:1}),a($,{ref_key:"formValidation",ref:m,"lazy-validation":""},{default:o(()=>[a(i,null,{default:o(()=>[a(d,{cols:"4"},{default:o(()=>[a(A,{modelValue:r(u).name,"onUpdate:modelValue":e[1]||(e[1]=t=>r(u).name=t),"error-messages":r(s).name,label:"Nombre",onKeypress:e[2]||(e[2]=t=>r(s).name=""),rules:[r(_)]},null,8,["modelValue","error-messages","rules"])]),_:1}),a(d,{cols:"4"},{default:o(()=>[a(N,{items:r(v),"item-title":"name","item-value":"id","onUpdate:modelValue":[e[3]||(e[3]=t=>r(s).ledger_account_group_id=""),e[4]||(e[4]=t=>r(u).ledger_account_group_id=t)],modelValue:r(u).ledger_account_group_id,"error-messages":r(s).ledger_account_group_id,rules:[r(_)],label:"Codigo"},null,8,["items","modelValue","error-messages","rules"])]),_:1})]),_:1}),a(i,null,{default:o(()=>[a(d,{cols:"12"},{default:o(()=>[q]),_:1})]),_:1}),a(i,null,{default:o(()=>[a(d,{cols:"12 d-flex justify-content-center"},{default:o(()=>[a(V,{color:"primary",onClick:e[5]||(e[5]=t=>y())},{default:o(()=>[p("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{L as _};
