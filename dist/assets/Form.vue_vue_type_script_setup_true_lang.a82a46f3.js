import{d as ae,E as le,k as q,b9 as te,aB as ie,r as se,o as L,c as C,p as l,w as i,z as _,q as e,m as x,a2 as A,aN as B,a3 as N,V,I as w}from"./index.1bb36a93.js";import{u as ne}from"./useCrudFixedAssetGroupStore.2b984e38.js";import{r as k,l as K}from"./validators.bb8f1929.js";import{u as $}from"./useSelect2Infite.14981200.js";import{a as y,V as S}from"./VRow.971cb494.js";import{V as r}from"./VBtn.22d55266.js";import{V as D}from"./VTextField.1b37a66e.js";import{V as F}from"./VSelect.ff4ebc03.js";import{V as b}from"./VDivider.5fbe829f.js";import{V as oe}from"./VForm.9a7f2cfe.js";const re={class:"d-flex justify-content-center aling-items-center"},de={key:0,class:"d-flex justify-content-between aling-items-center p-2"},ue={class:"d-flex justify-content-center aling-items-center"},ce={key:0,class:"d-flex justify-content-between aling-items-center p-2"},pe={class:"d-flex justify-content-center aling-items-center"},me={key:0,class:"d-flex justify-content-between aling-items-center p-2"},ve={class:"d-flex justify-content-center aling-items-center"},fe={key:0,class:"d-flex justify-content-between aling-items-center p-2"},ge={class:"d-flex justify-content-center aling-items-center"},xe={key:0,class:"d-flex justify-content-between aling-items-center p-2"},Ne=ae({__name:"Form",setup(Ve){const U=le(),I=q(),g=ne(),{formulario:n,loading:u,vrBuysList:Q,vrBuysCountLinks:M,depreciationList:R,depreciationCountLinks:P,depreciationExpenseList:j,depreciationExpenseCountLinks:h,fiscalDepreciationList:z,fiscalDepreciationCountLinks:H,taxDepreciationExpenseList:T,taxDepreciationExpenseCountLinks:J}=te(g),d=q([]),E={company_id:U.company.id},G=async o=>{var a;await((a=I.value)==null?void 0:a.resetValidation()),g.typeAction=o,d.value=[],o!="back"&&g.keyList++},O=async()=>{var a;const o=await((a=I.value)==null?void 0:a.validate());if(n.value.company_id=U.company.id,o!=null&&o.valid){const s=await g.fetchSave();s.status===200&&G("list"),s.status===422&&(d.value=s.error)}},c=$(g.fetchLedgerAccountListVrBuys,Q,E),p=$(g.fetchLedgerAccountListDepreciation,R,E),m=$(g.fetchLedgerAccountListDepreciationExpense,j,E),v=$(g.fetchLedgerAccountListFiscalDepreciation,z,E),f=$(g.fetchLedgerAccountListTaxDepreciationExpense,T,E),W=(o,a)=>{let s=c.dataNueva.value.find(t=>t.id===o);s&&(a.vrBuys_table=s.table,a.vrBuys_id=s.id)},X=(o,a)=>{let s=p.dataNueva.value.find(t=>t.id===o);s&&(a.depreciation_table=s.table,a.depreciation_id=s.id)},Y=(o,a)=>{let s=m.dataNueva.value.find(t=>t.id===o);s&&(a.depreciationExpense_table=s.table,a.depreciationExpense_id=s.id)},Z=(o,a)=>{let s=v.dataNueva.value.find(t=>t.id===o);s&&(a.fiscalDepreciation_table=s.table,a.fiscalDepreciation_id=s.id)},ee=(o,a)=>{let s=f.dataNueva.value.find(t=>t.id===o);s&&(a.taxDepreciationExpense_table=s.table,a.taxDepreciationExpense_id=s.id)};return ie(async()=>{await g.fetchDataForm(),c.dataNueva.value=Q.value,c.totalLinks.value=M.value,p.dataNueva.value=R.value,p.totalLinks.value=P.value,m.dataNueva.value=j.value,m.totalLinks.value=h.value,v.dataNueva.value=z.value,v.totalLinks.value=H.value,f.dataNueva.value=T.value,f.totalLinks.value=J.value}),(o,a)=>{const s=se("RouterLink");return L(),C("div",null,[l(S,null,{default:i(()=>[l(y,{cols:"12",class:"d-flex justify-content-end"},{default:i(()=>[l(r,{color:"secondary",onClick:a[0]||(a[0]=t=>G("back"))},{default:i(()=>[_(" Atras ")]),_:1})]),_:1})]),_:1}),l(oe,{ref_key:"formValidation",ref:I,"lazy-validation":""},{default:i(()=>[l(S,null,{default:i(()=>[l(y,{cols:"4"},{default:i(()=>[l(D,{clearable:"",modelValue:e(n).code,"onUpdate:modelValue":a[1]||(a[1]=t=>e(n).code=t),"error-messages":e(d).code,maxlength:"10",label:"C\xF3digo",onKeypress:a[2]||(a[2]=t=>e(d).code=""),rules:[e(k),e(K)(e(n).code,10)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(D,{clearable:"",modelValue:e(n).name,"onUpdate:modelValue":a[3]||(a[3]=t=>e(n).name=t),"error-messages":e(d).name,maxlength:"50",label:"Nombre",onKeypress:a[4]||(a[4]=t=>e(d).name=""),rules:[e(k),e(K)(e(n).name,50)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(F,{rules:[e(k)],clearable:"",loading:e(u),"item-title":"name","item-value":"id",label:"Vr. Compra",items:e(c).dataNueva.value,modelValue:e(n).vrBuys_id,"onUpdate:modelValue":a[8]||(a[8]=t=>{W(t,e(n)),e(d).vrBuys_id=""}),"onClick:clear":a[9]||(a[9]=t=>{e(n).vrBuys_id=null,e(n).vrBuys_table=null}),"error-messages":e(d).vrBuys_id},{"prepend-item":i(()=>[l(D,{clearable:"",placeholder:"Buscar...",class:"mb-2",modelValue:e(c).searchQuery.value,"onUpdate:modelValue":a[5]||(a[5]=t=>e(c).searchQuery.value=t)},null,8,["modelValue"]),l(b)]),"append-item":i(()=>[l(b),x("div",re,[A(l(B,{size:"24",color:"primary",indeterminate:""},null,512),[[N,e(u)]])]),e(u)?w("",!0):(L(),C("div",de,[l(s,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:i(()=>[l(r,{color:"success"},{default:i(()=>[_("Crear Registro")]),_:1})]),_:1}),x("div",null,[l(r,{class:"mt-2",disabled:e(c).page.value<=1,onClick:a[6]||(a[6]=t=>e(c).prev()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),l(r,{class:"mt-2",disabled:e(c).page.value>=e(c).totalLinks.value,onClick:a[7]||(a[7]=t=>e(c).next()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["rules","loading","items","modelValue","error-messages"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(F,{rules:[e(k)],clearable:"",loading:e(u),"item-title":"name","item-value":"id",label:"Depreciaci\xF3n",items:e(p).dataNueva.value,modelValue:e(n).depreciation_id,"onUpdate:modelValue":a[13]||(a[13]=t=>{X(t,e(n)),e(d).depreciation_id=""}),"onClick:clear":a[14]||(a[14]=t=>{e(n).depreciation_id=null,e(n).depreciation_table=null}),"error-messages":e(d).depreciation_id},{"prepend-item":i(()=>[l(D,{clearable:"",placeholder:"Buscar...",class:"mb-2",modelValue:e(p).searchQuery.value,"onUpdate:modelValue":a[10]||(a[10]=t=>e(p).searchQuery.value=t)},null,8,["modelValue"]),l(b)]),"append-item":i(()=>[l(b),x("div",ue,[A(l(B,{size:"24",color:"primary",indeterminate:""},null,512),[[N,e(u)]])]),e(u)?w("",!0):(L(),C("div",ce,[l(s,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:i(()=>[l(r,{color:"success"},{default:i(()=>[_("Crear Registro")]),_:1})]),_:1}),x("div",null,[l(r,{class:"mt-2",disabled:e(p).page.value<=1,onClick:a[11]||(a[11]=t=>e(p).prev()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),l(r,{class:"mt-2",disabled:e(p).page.value>=e(p).totalLinks.value,onClick:a[12]||(a[12]=t=>e(p).next()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["rules","loading","items","modelValue","error-messages"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(F,{rules:[e(k)],clearable:"",loading:e(u),"item-title":"name","item-value":"id",label:"Gasto Depreciaci\xF3n",items:e(m).dataNueva.value,modelValue:e(n).depreciationExpense_id,"onUpdate:modelValue":a[18]||(a[18]=t=>{Y(t,e(n)),e(d).depreciationExpense_id=""}),"onClick:clear":a[19]||(a[19]=t=>{e(n).depreciationExpense_id=null,e(n).depreciationExpense_table=null}),"error-messages":e(d).depreciationExpense_id},{"prepend-item":i(()=>[l(D,{clearable:"",placeholder:"Buscar...",class:"mb-2",modelValue:e(m).searchQuery.value,"onUpdate:modelValue":a[15]||(a[15]=t=>e(m).searchQuery.value=t)},null,8,["modelValue"]),l(b)]),"append-item":i(()=>[l(b),x("div",pe,[A(l(B,{size:"24",color:"primary",indeterminate:""},null,512),[[N,e(u)]])]),e(u)?w("",!0):(L(),C("div",me,[l(s,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:i(()=>[l(r,{color:"success"},{default:i(()=>[_("Crear Registro")]),_:1})]),_:1}),x("div",null,[l(r,{class:"mt-2",disabled:e(m).page.value<=1,onClick:a[16]||(a[16]=t=>e(m).prev()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),l(r,{class:"mt-2",disabled:e(m).page.value>=e(m).totalLinks.value,onClick:a[17]||(a[17]=t=>e(m).next()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["rules","loading","items","modelValue","error-messages"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(F,{rules:[e(k)],clearable:"",loading:e(u),"item-title":"name","item-value":"id",label:"Depreciaci\xF3n Fiscal",items:e(v).dataNueva.value,modelValue:e(n).fiscalDepreciation_id,"onUpdate:modelValue":a[23]||(a[23]=t=>{Z(t,e(n)),e(d).fiscalDepreciation_id=""}),"onClick:clear":a[24]||(a[24]=t=>{e(n).fiscalDepreciation_id=null,e(n).fiscalDepreciation_table=null}),"error-messages":e(d).fiscalDepreciation_id},{"prepend-item":i(()=>[l(D,{clearable:"",placeholder:"Buscar...",class:"mb-2",modelValue:e(v).searchQuery.value,"onUpdate:modelValue":a[20]||(a[20]=t=>e(v).searchQuery.value=t)},null,8,["modelValue"]),l(b)]),"append-item":i(()=>[l(b),x("div",ve,[A(l(B,{size:"24",color:"primary",indeterminate:""},null,512),[[N,e(u)]])]),e(u)?w("",!0):(L(),C("div",fe,[l(s,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:i(()=>[l(r,{color:"success"},{default:i(()=>[_("Crear Registro")]),_:1})]),_:1}),x("div",null,[l(r,{class:"mt-2",disabled:e(v).page.value<=1,onClick:a[21]||(a[21]=t=>e(v).prev()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),l(r,{class:"mt-2",disabled:e(v).page.value>=e(v).totalLinks.value,onClick:a[22]||(a[22]=t=>e(v).next()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["rules","loading","items","modelValue","error-messages"])]),_:1}),l(y,{cols:"4"},{default:i(()=>[l(F,{rules:[e(k)],clearable:"",loading:e(u),"item-title":"name","item-value":"id",label:"Gasto Depreciaci\xF3n Fiscal",items:e(f).dataNueva.value,modelValue:e(n).taxDepreciationExpense_id,"onUpdate:modelValue":a[28]||(a[28]=t=>{ee(t,e(n)),e(d).taxDepreciationExpense_id=""}),"onClick:clear":a[29]||(a[29]=t=>{e(n).taxDepreciationExpense_id=null,e(n).taxDepreciationExpense_table=null}),"error-messages":e(d).taxDepreciationExpense_id},{"prepend-item":i(()=>[l(D,{clearable:"",placeholder:"Buscar...",class:"mb-2",modelValue:e(f).searchQuery.value,"onUpdate:modelValue":a[25]||(a[25]=t=>e(f).searchQuery.value=t)},null,8,["modelValue"]),l(b)]),"append-item":i(()=>[l(b),x("div",ge,[A(l(B,{size:"24",color:"primary",indeterminate:""},null,512),[[N,e(u)]])]),e(u)?w("",!0):(L(),C("div",xe,[l(s,{to:{name:"Admin-LedgerAccount-Index"},class:"app-logo d-flex align-center gap-x-3 app-title-wrapper"},{default:i(()=>[l(r,{color:"success"},{default:i(()=>[_("Crear Registro")]),_:1})]),_:1}),x("div",null,[l(r,{class:"mt-2",disabled:e(f).page.value<=1,onClick:a[26]||(a[26]=t=>e(f).prev()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),l(r,{class:"mt-2",disabled:e(f).page.value>=e(f).totalLinks.value,onClick:a[27]||(a[27]=t=>e(f).next()),color:"success"},{default:i(()=>[l(V,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]),_:1},8,["rules","loading","items","modelValue","error-messages"])]),_:1})]),_:1}),l(S,null,{default:i(()=>[l(y,{cols:"12 d-flex justify-content-center"},{default:i(()=>[l(r,{color:"primary",onClick:a[30]||(a[30]=t=>O())},{default:i(()=>[_("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)])}}});export{Ne as _};
